<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>몰입! 자바스크립트 - 27장 this 바인딩 오브젝트 - Jaejin's blog</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="Jaejin Jang"><meta name=description content="이력 2022.03.19 8절까지 포스팅 2022.03.20 15절까지 포스팅 ​모든 내용을 상세히 담으려 하지 않았습니다. 제가 모르는 부분이나, &amp;ldquo;이런 것도 있었어?&rdquo"><meta name=keywords content="Hugo,theme,even"><meta name=generator content="Hugo 0.100.2 with theme even"><link rel=canonical href=https://jaejin0me.github.io/post/20220319/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.b5a744db6de49a86cadafb3b70f555ab443f83c307a483402259e94726b045ff.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="몰입! 자바스크립트 - 27장 this 바인딩 오브젝트"><meta property="og:description" content="이력 2022.03.19 8절까지 포스팅 2022.03.20 15절까지 포스팅 ​모든 내용을 상세히 담으려 하지 않았습니다. 제가 모르는 부분이나, &ldquo;이런 것도 있었어?&rdquo"><meta property="og:type" content="article"><meta property="og:url" content="https://jaejin0me.github.io/post/20220319/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-03-19T17:20:52+09:00"><meta property="article:modified_time" content="2022-03-19T17:20:52+09:00"><meta itemprop=name content="몰입! 자바스크립트 - 27장 this 바인딩 오브젝트"><meta itemprop=description content="이력 2022.03.19 8절까지 포스팅 2022.03.20 15절까지 포스팅 ​모든 내용을 상세히 담으려 하지 않았습니다. 제가 모르는 부분이나, &ldquo;이런 것도 있었어?&rdquo"><meta itemprop=datePublished content="2022-03-19T17:20:52+09:00"><meta itemprop=dateModified content="2022-03-19T17:20:52+09:00"><meta itemprop=wordCount content="4758"><meta itemprop=keywords content="javascript,"><meta name=twitter:card content="summary"><meta name=twitter:title content="몰입! 자바스크립트 - 27장 this 바인딩 오브젝트"><meta name=twitter:description content="이력 2022.03.19 8절까지 포스팅 2022.03.20 15절까지 포스팅 ​모든 내용을 상세히 담으려 하지 않았습니다. 제가 모르는 부분이나, &ldquo;이런 것도 있었어?&rdquo"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>Jaejin's blog</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>Jaejin's blog</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>몰입! 자바스크립트 - 27장 this 바인딩 오브젝트</h1><div class=post-meta><span class=post-time>2022-03-19</span><div class=post-category><a href=/categories/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8/>자바스크립트</a></div><span class=more-meta>4758 words</span>
<span class=more-meta>10 mins read</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a href=#271-this와-실행-컨텍스트>27.1 this와 실행 컨텍스트</a></li><li><a href=#272-this와-글로벌-오브젝트>27.2 this와 글로벌 오브젝트</a></li><li><a href=#273-strict-모드에서-this와-글로벌-오브젝트>27.3 strict 모드에서 this와 글로벌 오브젝트</a></li><li><a href=#274-this-범위>27.4 this 범위</a></li><li><a href=#275-this와-빌트인-오브젝트>27.5 this와 빌트인 오브젝트</a></li><li><a href=#276-this와-호출-오브젝트>27.6 this와 호출 오브젝트</a></li><li><a href=#277-this와-인스턴스>27.7 this와 인스턴스</a></li><li><a href=#278-new-연산자와-오브젝트-반환>27.8 new 연산자와 오브젝트 반환</a></li><li><a href=#279-this의-주된-목적>27.9 this의 주된 목적</a></li><li><a href=#2710-call과-this>27.10 call()과 this</a></li><li><a href=#2711-apply와-this>27.11 apply()와 this</a></li><li><a href=#2712-bind와-this>27.12 bind()와 this</a></li><li><a href=#2713-bind-엔진-처리>27.13 bind() 엔진 처리</a></li><li><a href=#2714-bind와-click-이벤트-바인딩>27.14 bind()와 click 이벤트 바인딩</a></li><li><a href=#2715-bind와-비동기-통신-바인딩>27.15 bind()와 비동기 통신 바인딩</a></li></ul></nav></div></div><div class=post-content><p>이력</p><ul><li>2022.03.19 8절까지 포스팅</li><li>2022.03.20 15절까지 포스팅</li></ul><p><em>​모든 내용을 상세히 담으려 하지 않았습니다.<br>제가 모르는 부분이나, &ldquo;이런 것도 있었어?&rdquo; 하는 부분, 중요하다고 생각되는 부분,<br>다시 한번 되새기고 싶은 부분만 기록했습니다.<br>읽어주셔서 감사합니다.</em></p><h2 id=271-this와-실행-컨텍스트>27.1 this와 실행 컨텍스트</h2><ul><li>호출한 함수 앞에 작성한 오브젝트를 TBC가 참조하며, this는 TBC를 참조합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var sports = {
</span></span><span class=line><span class=cl>  member: 11,
</span></span><span class=line><span class=cl>  soccer: function() {
</span></span><span class=line><span class=cl>    debugger;
</span></span><span class=line><span class=cl>    return this.member;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>};
</span></span><span class=line><span class=cl>sports.soccer();
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>soccer() 호출시의 EC를 형상화 하면 아래와 같습니다.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>EC: {
</span></span><span class=line><span class=cl>  LEC: {
</span></span><span class=line><span class=cl>    LE: {
</span></span><span class=line><span class=cl>      ER: {
</span></span><span class=line><span class=cl>        DER: {}
</span></span><span class=line><span class=cl>      },
</span></span><span class=line><span class=cl>      OLER: 글로벌 환경
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>  VEC: LEC와 동일,
</span></span><span class=line><span class=cl>  TBC: {
</span></span><span class=line><span class=cl>    member: 11,
</span></span><span class=line><span class=cl>    soccer: function() {return this.member}
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p><img src=/20220319_1.png alt=fig.1 title=fig.1></p><h2 id=272-this와-글로벌-오브젝트>27.2 this와 글로벌 오브젝트</h2><ul><li>글로벌 오브젝트에서 this는 항상 글로벌 오브젝트를 참조합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>price = 200;
</span></span><span class=line><span class=cl>var globalPractice = this.price;
</span></span><span class=line><span class=cl>this.qty = 123;
</span></span><span class=line><span class=cl>js.log(this === window);
</span></span><span class=line><span class=cl>js.log(window.qty);
</span></span></code></pre></td></tr></table></div></div><ul><li>첫 번째 줄의 코드를 실행하기전에 글로벌 실행 컨텍스트의 TBC에 글로벌 오브젝트를 설정합니다.</li><li>var globalPractice에서 var 키워드를 사용했지만 EC의 초기화 단계에서 글로벌 실행 컨텍스트의 OER에 globalPrice를 설정한 후, 실행단계에서 값을 할당하므로 글로벌 오브젝트에서 설정하는 것과 같습니다.</li></ul><h2 id=273-strict-모드에서-this와-글로벌-오브젝트>27.3 strict 모드에서 this와 글로벌 오브젝트</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>function music() {
</span></span><span class=line><span class=cl>  &#34;use strict&#34;;
</span></span><span class=line><span class=cl>  debugger;
</span></span><span class=line><span class=cl>  return this;
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>js.log(music() === undefined);
</span></span><span class=line><span class=cl>// true
</span></span><span class=line><span class=cl>js.log(window.music() === window);
</span></span><span class=line><span class=cl>// true
</span></span></code></pre></td></tr></table></div></div><ul><li>music()과 같이 함수 앞에 오브젝트를 작성하지 않고 함수를 호출하면 글로벌 오브젝트를 생략한 것으로 간주합니다. 반면 strict 모드는 글로벌 오브젝트로 간주하지 않고 undefined를 TBC에 설정합니다.</li></ul><h2 id=274-this-범위>27.4 this 범위</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var sports = {
</span></span><span class=line><span class=cl>  member: 111,
</span></span><span class=line><span class=cl>  get: function() {
</span></span><span class=line><span class=cl>    var member = 777;
</span></span><span class=line><span class=cl>    var result = this === sports.get;
</span></span><span class=line><span class=cl>    debugger;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    js.log(result);
</span></span><span class=line><span class=cl>    // false
</span></span><span class=line><span class=cl>    js.log(this.member === 111);
</span></span><span class=line><span class=cl>    // true
</span></span><span class=line><span class=cl>    // this의 member는 111 이다.
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><h2 id=275-this와-빌트인-오브젝트>27.5 this와 빌트인 오브젝트</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>String.prototype.calcValue = function() {
</span></span><span class=line><span class=cl>  var total = 0; values = this.split(&#39;&#39;);
</span></span><span class=line><span class=cl>  debugger;
</span></span><span class=line><span class=cl>  values.forEach(function(value) {
</span></span><span class=line><span class=cl>    total += Number(value);
</span></span><span class=line><span class=cl>  }, this);
</span></span><span class=line><span class=cl>  return total;
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>var result = &#39;123&#39;.calcValue();
</span></span><span class=line><span class=cl>js.log(result)
</span></span></code></pre></td></tr></table></div></div><ul><li>함수 앞에 문자열을 작성하면 타입이 String이므로 this가 String 오브젝트를 참조합니다. 문자열 이외의 숫자, 배열도 마찬가지로 함수 앞에 작성한 값이 오브젝트로 변환될 수 있어야 하며 변환된 오브젝트에 함수가 존재해야 합니다.</li><li>String 오브젝트의 prototype에 calcValue 메소드를 연결합니다. 빌트인 오브젝트에 네이티브 이외의 메소드를 연결하는 것은 바람직하지 않지만 fallback 메소드를 작성할 때 유용합니다.
<img src=/20220319_2.png alt=fig.2 title=fig.2></li><li>네이티브 메소드를 호출하면 스택에 EC가 표시되지 않지만, 네이티브가 아닌 메소드는 EC가 표시됩니다.</li><li>&ldquo;this: String"은 this가 String 오브젝트를 참조하는 것은 의미합니다. __proto__에 빌트인 String 오브젝트의 prototype에 연결된 프로퍼티로 인스턴스를 생성하여 첨부했습니다. String 인스턴스를 생성한 것입니다.</li><li>생성한 String 인스턴스를 this가 참조합니다. js 엔진이 String 인스턴스를 생성하면서 파라미터로 받은 &ldquo;123"을 프리미티브 값으로 설정합니다. 생성한 인스턴스를 지정하면 프리미티브 값이 반환되듯이 this를 지정하면 생성한 String 인스턴스의 프리미티브 값인 &ldquo;123"이 반환됩니다.</li></ul><h2 id=276-this와-호출-오브젝트>27.6 this와 호출 오브젝트</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var sports = {
</span></span><span class=line><span class=cl>  value: 123,
</span></span><span class=line><span class=cl>  soccer: {
</span></span><span class=line><span class=cl>    value: 456,
</span></span><span class=line><span class=cl>    get: function() {
</span></span><span class=line><span class=cl>      js.log(this === sports.soccer);
</span></span><span class=line><span class=cl>      js.log(this.value);
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>};
</span></span><span class=line><span class=cl>sports.soccer.get()
</span></span><span class=line><span class=cl>// true
</span></span><span class=line><span class=cl>// 456
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var sports = {
</span></span><span class=line><span class=cl>  value: 123,
</span></span><span class=line><span class=cl>  get: function() {
</span></span><span class=line><span class=cl>    js.log(this === window);
</span></span><span class=line><span class=cl>    js.log(this.value);
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>};
</span></span><span class=line><span class=cl>var comp = sports.get;
</span></span><span class=line><span class=cl>comp();
</span></span><span class=line><span class=cl>// 오브젝트를 지정하지 않고 호출했으므로 TBC는 글로벌 오브젝트가 된다.
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>function get() {
</span></span><span class=line><span class=cl>  js.log(&#39;global&#39;);
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>var sports = function() {
</span></span><span class=line><span class=cl>  function get() { //함수 선언문이므로 초기화 단계에서 DER에 설정됨
</span></span><span class=line><span class=cl>    js.log(&#39;sports&#39;);
</span></span><span class=line><span class=cl>  };
</span></span><span class=line><span class=cl>  this.get();
</span></span><span class=line><span class=cl>  get(); // DER의 get을 호출합니다.
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>sports();
</span></span></code></pre></td></tr></table></div></div><p>​</p><h2 id=277-this와-인스턴스>27.7 this와 인스턴스</h2><ul><li>this를 사용하는 또 하나의 목적이 new 연산자로 생성한 인스턴스마다 값을 유지하기 위해입니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var sales = {};
</span></span><span class=line><span class=cl>sales.Book = function(option) {
</span></span><span class=line><span class=cl>  debugger;
</span></span><span class=line><span class=cl>  this.options = options;
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>sales.Book.prototype = {
</span></span><span class=line><span class=cl>  getValue: function() {
</span></span><span class=line><span class=cl>    debugger;
</span></span><span class=line><span class=cl>    return this.options;
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>  getFirst: function() {
</span></span><span class=line><span class=cl>    return this.option + 200;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>var obj = new sales.Book(100);
</span></span><span class=line><span class=cl>obj.getValue();
</span></span></code></pre></td></tr></table></div></div><p><img src=/20220319_3.png alt=fig.3 title=fig.3></p><ul><li>this: sales.Book 에서 볼 수 있듯이 this가 sales.Book 오브젝트를 참조하고 있습니다.</li><li>생성자 함수가 호출되면 엔진은 함수를 실행하기 전에 새로운 인스턴스를 생성하고 생성한 인스턴스를 TBC에 할당합니다.</li></ul><h2 id=278-new-연산자와-오브젝트-반환>27.8 new 연산자와 오브젝트 반환</h2><ul><li>생성자 함수에 return 문을 작성하면 표현식의 평가결과에 따라 인스턴스가 반환되지 않을수도 있습니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var title = function() {
</span></span><span class=line><span class=cl>  return {value: 123};
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>title.prototype = {
</span></span><span class=line><span class=cl>  getValue: function(){}
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>var obj = new title();
</span></span><span class=line><span class=cl>js.log(obj.value);
</span></span><span class=line><span class=cl>// 123
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var music =  function(){
</span></span><span class=line><span class=cl>  return 123; // 없는 것과 같습니다.
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>music prototype.getValue = function() {
</span></span><span class=line><span class=cl>  return 456;
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>var obj = new music();
</span></span><span class=line><span class=cl>debugger;
</span></span><span class=line><span class=cl>js.log(obj.getValue());
</span></span><span class=line><span class=cl>// 456
</span></span></code></pre></td></tr></table></div></div><ul><li>평가한 값이 오브젝트가 아니면 생성한 인스턴스를 반환합니다.</li></ul><h2 id=279-this의-주된-목적>27.9 this의 주된 목적</h2><ul><li>new 연산자와 생성자 함수를 이용해 인스턴스를 생성하는 목적은 this를 이용해 인스턴스마다 다른 값을 설정하기 위함입니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var title = function(option) {
</span></span><span class=line><span class=cl>  this.option = option;
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>title.prototype = {
</span></span><span class=line><span class=cl>  getValue: function() {
</span></span><span class=line><span class=cl>    return this.option
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>var one = new title(100);
</span></span><span class=line><span class=cl>var two = new title([200,300]);
</span></span><span class=line><span class=cl>one.option = 77;
</span></span><span class=line><span class=cl>js.log(one.getValue());
</span></span><span class=line><span class=cl>js.log(two.getValue());
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1. new title(100); 문장을 평가합니다.
</span></span><span class=line><span class=cl>2. 평가한 Function 오브젝트에 [[Constructor]] 존재 여부를 체크합니다.
</span></span><span class=line><span class=cl>  - 존재하지 않으면 TypeError를 발생시키고 아래 처리를 하지 않습니다.
</span></span><span class=line><span class=cl>3. 평가한 Function 오브젝트의 [[Constructor]]를 메소드로 하여 호출합니다.
</span></span><span class=line><span class=cl>  - 생성자 함수의 파라미터 값을 100을 파라미터로 넘겨줍니다.
</span></span><span class=line><span class=cl>4. 새로운 Object를 생성합니다.
</span></span><span class=line><span class=cl>5. title Function 오브젝트의 [[Prototype]]을 생성한 인스턴스의 __proto__에 설정합니다.
</span></span><span class=line><span class=cl>6. 중략
</span></span><span class=line><span class=cl>7. title Function 오브젝트의 [[Call]]을 호출합니다.
</span></span><span class=line><span class=cl>8. EC를 생성하고 파라미터 값을 갖고 EC로 이동합니다.
</span></span><span class=line><span class=cl>  - 파라미터 값 순서: 생성한 인스턴스, 파라미터 값 100, 함수 코드 [[Code]]
</span></span><span class=line><span class=cl>9. 중략
</span></span><span class=line><span class=cl>10. TBC에 파라미터로 받은 생성한 인스턴스를 설정합니다.
</span></span><span class=line><span class=cl>11. 실행 단계에서 this.option = option; 문장을 실행합니다.
</span></span><span class=line><span class=cl>12. 중략
</span></span><span class=line><span class=cl>13. 생성한 인스턴스를 반환합니다.
</span></span></code></pre></td></tr></table></div></div><h2 id=2710-call과-this>27.10 call()과 this</h2><ul><li>call 메소드의 첫 번째 파라미터에 작성한 오브젝트를 this가 참조합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var value = 100;
</span></span><span class=line><span class=cl>function get(one) {
</span></span><span class=line><span class=cl>  return one + this.value;
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>var result = get.call(this, 50);
</span></span><span class=line><span class=cl>js.log(result);
</span></span><span class=line><span class=cl>// 150
</span></span></code></pre></td></tr></table></div></div><ul><li>get 함수 앞에 오브젝트를 작성하지 않았으므로 글로벌 오브젝트의 get 함수가 호출됩니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var get = function(value) {
</span></span><span class=line><span class=cl>  return this.base * this.rate + value;
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>var result = get.call({base: 20, rate: 30}, 50);
</span></span><span class=line><span class=cl>// this 대신 오브젝트를 지정할 수 있다.
</span></span><span class=line><span class=cl>js.log(result);
</span></span><span class=line><span class=cl>// 650
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var get = function() {
</span></span><span class=line><span class=cl>  debugger;
</span></span><span class=line><span class=cl>  return this.valueOf();
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>var result = get.call(123);
</span></span><span class=line><span class=cl>// 숫자를 지정하면 데이터 타입에 해당하는 오브젝트(인스턴스)로 변환합니다.
</span></span><span class=line><span class=cl>js.log(result)
</span></span><span class=line><span class=cl>// 123
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var sports = {
</span></span><span class=line><span class=cl>  value: 123,
</span></span><span class=line><span class=cl>  soccer: {
</span></span><span class=line><span class=cl>    value: 456,
</span></span><span class=line><span class=cl>    get: function() {
</span></span><span class=line><span class=cl>      return this.value;
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>};
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>js.log(sports.soccer.get.call(sports));
</span></span><span class=line><span class=cl>// 123
</span></span><span class=line><span class=cl>js.log(sports.soccer.get.call(sports.soccer));
</span></span><span class=line><span class=cl>// 456
</span></span><span class=line><span class=cl>// 오브젝트를 변경하여 호출해 결과를 바꿀 수 있다.
</span></span></code></pre></td></tr></table></div></div><h2 id=2711-apply와-this>27.11 apply()와 this</h2><ul><li>두 번째 파라미터를 배열로 작성하는 것이 call과 다른 점입니다. call과 달리 파라미터 수가 동적일 때 사용할 수 있습니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>function get() {
</span></span><span class=line><span class=cl>  var list = arguments;
</span></span><span class=line><span class=cl>  debugger;
</span></span><span class=line><span class=cl>  for (var k = 0; k &lt; list.length; k++) {
</span></span><span class=line><span class=cl>    js.log(lisk[k] + this[k]);
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>get.apply({0: 50, 1: 60, 2: 70}, [10, 20, 30]);
</span></span><span class=line><span class=cl>// 60
</span></span><span class=line><span class=cl>// 80
</span></span><span class=line><span class=cl>// 100
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>function get(one, two) {
</span></span><span class=line><span class=cl>  js.log(one + two + arguments[2]);
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>get.apply(this, [10, 20, 50]);
</span></span><span class=line><span class=cl>// 80
</span></span></code></pre></td></tr></table></div></div><p>​</p><h2 id=2712-bind와-this>27.12 bind()와 this</h2><ul><li>함수를 호출하면 바로 실행되지만 bind 메소드 Function 오브젝트를 생성하여 반환합니다. bind 메소드를 새로운 Function 오브젝트를 생성하는 단계와 생성한 Function 오브젝트를 호출하는 단계로 나눕니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var bonus = {
</span></span><span class=line><span class=cl>  value: 123,
</span></span><span class=line><span class=cl>  get: function() {
</span></span><span class=line><span class=cl>    return this.value;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>};
</span></span><span class=line><span class=cl>js.log(bonus.get());
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>var fnObj = bonus.get.bind({value: 456});
</span></span><span class=line><span class=cl>js.log(fnObj());
</span></span><span class=line><span class=cl>// 123
</span></span><span class=line><span class=cl>// 456
</span></span></code></pre></td></tr></table></div></div><ul><li>bonus.get.bind() 형태에서 bind 메소드가 호출되려면 bonus.get이 오브젝트이어야 합니다. 그런데 함수입니다. 이때 자바스크립트의 묘미가 발휘됩니다. &ldquo;abc&rdquo;.charAt()에서 &ldquo;abc"가 문자열이므로 String 오브젝트의 charAt() 메소드가 호출되듯이 bonus.get이 함수이므로 Function 오브젝트의 bind()메소드가 호출됩니다. bonus.get을 호출할 함수로 사용하기 위해 Function 오브젝트를 생성하면서 bonus.get을 [[TargetFunction]]에 저장합니다.</li><li>bonus.get 함수를 연결하여 호출하지 않고 Function 오브젝트를 생성하여 반환하므로 this가 참조하는 오브젝트를 생성한 Function 오브젝트의 [[BoundThis]]에 저장합니다. 두 번째 파라미터를 [[BoundArguments]]에 저장합니다.</li><li>fnObj() 형태로 호출하면 Funtion 오브젝트의 [[TargetFunction]]에 저장된 bonus.get 함수가 호출됩니다. bind() 메소드의 첫 번째 파라미터를 this가 참조하며 Function 오브젝트의 [[BoundThis]]에 설정되어 있습니다. this.value로 값을 반환할 때 [[BoundThis]]를 사용합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var bonus = {
</span></span><span class=line><span class=cl>  get: function() {
</span></span><span class=line><span class=cl>    return Array.prototype.slice.call(arguments);
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>};
</span></span><span class=line><span class=cl>var fnObj = bonus.get.bind({value: 10}, 20, 30);
</span></span><span class=line><span class=cl>js.log(fnObj(40, 50));
</span></span></code></pre></td></tr></table></div></div><h2 id=2713-bind-엔진-처리>27.13 bind() 엔진 처리</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var sports = {
</span></span><span class=line><span class=cl>  get: function(one) {
</span></span><span class=line><span class=cl>    var args = arguments;
</span></span><span class=line><span class=cl>    return this.value + args[0] + args[1] + args[2];
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>};
</span></span><span class=line><span class=cl>var fnObj = sports.get.bind({value: 123}, &#39;soccer&#39;, &#39;456&#39;);
</span></span><span class=line><span class=cl>debugger;
</span></span><span class=line><span class=cl>js.log(fnObj(&#39;swim&#39;));
</span></span></code></pre></td></tr></table></div></div><p><img src=/20220319_4.png alt=fig.4 title=fig.4></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1. bind 메소드를 호출합니다.
</span></span><span class=line><span class=cl>2. sports.get.bind()에서 sports.get의 호출 가능 여부를 체크합니다.
</span></span><span class=line><span class=cl>  - bind 메소드 앞에 Function 오브젝트를 지정해야 합니다.
</span></span><span class=line><span class=cl>  - 호출할 수 없는 상태이면 TypeError를 발생시키고 아래를 처리하지 않습니다.
</span></span><span class=line><span class=cl>3. 새로운 Function 오브젝트를 생성합니다.
</span></span><span class=line><span class=cl>4. bind 메소드 앞에 작성한 함수를 fnObj의 [[TargetFunction]]에 설정합니다.
</span></span><span class=line><span class=cl>5. bind 메소드의 첫 번째 파라미터 fnObj의 [[BoundThis]]에 설정합니다.
</span></span><span class=line><span class=cl>6. bind 메소드의 두 번째 이후의 모든 파라미터를 fnObj의 [[BoundArgs]]에 설정합니다.
</span></span><span class=line><span class=cl>7. fnObj의 [[Call]]을 설정합니다.
</span></span><span class=line><span class=cl>  - fnObj()를 호출하면 [[Call]]에 설정된 함수를 호출합니다. [[Call]] 함수에 세 개의 target,
</span></span><span class=line><span class=cl>    boundThis, boundArgs 프로퍼티가 있으며 아래와 같이 설정한 후 실행합니다.
</span></span><span class=line><span class=cl>    1) target에 [[TargetFunction]] 값을 설정합니다.
</span></span><span class=line><span class=cl>    2) boundThis에 [[BoundThis]] 값을 설정합니다.
</span></span><span class=line><span class=cl>    3) boundArgs에 [[BoundArgs]]에 값을 설정합니다.
</span></span><span class=line><span class=cl>8. 생성한 Function 오브젝트를 반환하여 fnObj에 할당합니다.
</span></span><span class=line><span class=cl>9. fnObj를 호출합니다.
</span></span></code></pre></td></tr></table></div></div><h2 id=2714-bind와-click-이벤트-바인딩>27.14 bind()와 click 이벤트 바인딩</h2><ul><li>bind 메소드를 사용하지 않고 DOM 메소드인 addEventListener(&lsquo;click&rsquo;, show, false)로 이벤트 타입과 이벤트 핸들러를 작성하면 this를 지정하는 파라미터가 없으므로 this를 잊어버리게 됩니다. 따라서 this를 받을 수 있도록 사전 처리를 해야합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&lt;body&gt;
</span></span><span class=line><span class=cl>  &lt;button id=&#39;clickID&#39;&gt;클릭하세요&lt;/button&gt;
</span></span><span class=line><span class=cl>&lt;/body&gt;
</span></span><span class=line><span class=cl>&lt;script&gt;
</span></span><span class=line><span class=cl>window.onload = function() {
</span></span><span class=line><span class=cl>  var element = documents.getElementById(&#39;clickID&#39;);
</span></span><span class=line><span class=cl>  element.onclick = show.bind(sports, element);
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>var sports = {
</span></span><span class=line><span class=cl>  value: 123
</span></span><span class=line><span class=cl>};
</span></span><span class=line><span class=cl>function show(element, event) {
</span></span><span class=line><span class=cl>  debugger;
</span></span><span class=line><span class=cl>  js.log(element.textContent);
</span></span><span class=line><span class=cl>  // 클릭하세요
</span></span><span class=line><span class=cl>  js.log(event.target.id);
</span></span><span class=line><span class=cl>  // clickID
</span></span><span class=line><span class=cl>  js.log(this.value);
</span></span><span class=line><span class=cl>  // 123
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>&lt;/script&gt;
</span></span></code></pre></td></tr></table></div></div><p><img src=/20220319_5.png alt=fig.5 title=fig.5></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>이벤트 설정, bind 메소드 실행
</span></span><span class=line><span class=cl>1. 브라우저가 렌더링을 완료하면 window.onload 이벤트가 발생합니다.
</span></span><span class=line><span class=cl>2. window.onload에 설정된 핸들러 함수가 호출됩니다.
</span></span><span class=line><span class=cl>3. button#clickID에 이벤트를 설정하기 위해 엘리먼트 오브젝트를 생성합니다.
</span></span><span class=line><span class=cl>4. bind 메소드로 show 함수를 바인딩합니다.
</span></span><span class=line><span class=cl>5. 생성한 엘리먼트 오브젝트(element)에 이벤트 타입(onclick)과 핸들러 함수(show)를 설정합니다.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>마우스로 버튼 클릭
</span></span><span class=line><span class=cl>6. 사용자가 버튼을 클릭합니다.
</span></span><span class=line><span class=cl>7. show 함수가 호출됩니다.
</span></span><span class=line><span class=cl>8. 첫 번째 파라미터에 bind 메소드의 두 번째 파라미터에 작성한 element가 설정됩니다.
</span></span><span class=line><span class=cl>9. 두 번째 파라미터에 이벤트 오브젝트가 설정됩니다.
</span></span><span class=line><span class=cl>10. show 함수에 작성한 자바스크립트 코드를 수행합니다.
</span></span></code></pre></td></tr></table></div></div><h2 id=2715-bind와-비동기-통신-바인딩>27.15 bind()와 비동기 통신 바인딩</h2><ul><li>클라이언트가 서버와 비동기 통신을 시작하면 다섯 번 통신 상태가 변경되며 변경될 때 마다 onreadystatechange 이벤트를 발생시킵니다. onreadystatechange에 콜백함수를 연결하여 처리해야합니다.</li><li>bind 메소드로 this가 참조하는 오브젝트와 통신 오브젝트를 바인딩할 수 있으므로 콜백 함수에서 쉽게 처리할 수 있습니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>var sports = {
</span></span><span class=line><span class=cl>  value: 123
</span></span><span class=line><span class=cl>};
</span></span><span class=line><span class=cl>function statusChange(xhr) {
</span></span><span class=line><span class=cl>  if (xhr &amp;&amp; xhr.readyState == 4) {
</span></span><span class=line><span class=cl>    if (xhr.status &gt; 199 &amp;&amp; xhr.status &lt; 300) {
</span></span><span class=line><span class=cl>      debugger;
</span></span><span class=line><span class=cl>      js.log(xhr.statusText);
</span></span><span class=line><span class=cl>      js.log(this.value);
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>var xhr = new XHLHttpRequest();
</span></span><span class=line><span class=cl>xhr.open(&#39;get&#39;, &#39;https://httpbin.org/get&#39;, true);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>xhr.onreadystatechange = statusChange.bind(sports, xhr);
</span></span><span class=line><span class=cl>xhr.send();
</span></span><span class=line><span class=cl>// OK
</span></span><span class=line><span class=cl>// 123
</span></span></code></pre></td></tr></table></div></div><p><img src=/20220319_6.png alt=fig.6 title=fig.6></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>통신 준비 및 실행
</span></span><span class=line><span class=cl>1. 통신을 위한 통신 오브젝트를 생성합니다.
</span></span><span class=line><span class=cl>2. 통신 오브젝트(xhr)의 open 메소드로 서버와 통신을 시작합니다.
</span></span><span class=line><span class=cl>3. bind 메소드로 콜백함수를 바인딩합니다.
</span></span><span class=line><span class=cl>4. 통신 오브젝트에 콜백 함수를 설정합니다.
</span></span><span class=line><span class=cl>5. 통신 오브젝트(xhr)의 send 메소드로 데이터를 서버에 전송합니다.
</span></span><span class=line><span class=cl>  비동기 통신으로 서버와 여러 건을 통신할 때 통신을 시작한 순서로 통신이 종료되지 않으므로 어떤 것이 종료되었는지 알 수 없습니다. bind 메소드로 this가 참조하는 오브젝트와 통신 오브젝트를 바인딩하면 통신 오브젝트단위로 서버에서 보낸 데이터를 this가 참조하는 오브젝트에서 처리할 수 있습니다.
</span></span></code></pre></td></tr></table></div></div></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>Jaejin Jang</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2022-03-19</span></p><p class=copyright-item><span class=item-title>License</span>
<span class=item-content>Jaejin Jang</span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/javascript/>javascript</a></div><nav class=post-nav><a class=prev href=/post/20220322/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">몰입! 자바스크립트 - 28장 자바스크립트 객체 지향 프로그래밍</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=/post/20220316/><span class="next-text nav-default">몰입! 자바스크립트 - 26장 Function 인스턴스</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><script src=https://utteranc.es/client.js repo=jaejin0me/jaejin0me.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script><noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:jaejin0me@gmail.com class="iconfont icon-email" title=email></a>
<a href=https://ko-kr.facebook.com/people/%EC%9E%A5%EC%9E%AC%EC%A7%84/100005230447628 class="iconfont icon-facebook" title=facebook></a>
<a href=https://www.linkedin.com/in/jaejin0me class="iconfont icon-linkedin" title=linkedin></a>
<a href=https://github.com/jaejin0me class="iconfont icon-github" title=github></a>
<a href=https://jaejin0me.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2017 -
2022<span class=heart><i class="iconfont icon-heart"></i></span><span>Jaejin Jang</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.191509a5c8442abdb6eb5020a332fd59bdd83a7e78a2d2241108df9113504292.js></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-111561979-1','auto'),ga('set','anonymizeIp',!0),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>