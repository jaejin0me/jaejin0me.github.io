<!doctype html><html lang=ko dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>몰입! 자바스크립트 - 29장 자바스크립트 활용 | Jaejin's blog</title>
<meta name=keywords content="javascript"><meta name=description content="이력

2022.03.25 5절까지 포스팅
2022.03.26 7절 제외하고 11절까지 포스팅

​모든 내용을 상세히 담으려 하지 않았습니다.
제가 모르는 부분이나, &ldquo;이런 것도 있었어?&rdquo; 하는 부분, 중요하다고 생각되는 부분,
다시 한번 되새기고 싶은 부분만 기록했습니다.
와.. 드디어 마지막 장이네요. 긴 여정이 끝났습니다. 고생한 나 자신에게 박수~!
읽어주셔서 감사합니다."><meta name=author content="Jaejin Jang"><link rel=canonical href=https://jaejin0me.github.io/post/20220325/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://jaejin0me.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jaejin0me.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jaejin0me.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jaejin0me.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jaejin0me.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=ko href=https://jaejin0me.github.io/post/20220325/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous onload=renderMathInElement(document.body)></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8691946909799297" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-F8504X956T"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-F8504X956T")}</script><meta property="og:title" content="몰입! 자바스크립트 - 29장 자바스크립트 활용"><meta property="og:description" content="이력

2022.03.25 5절까지 포스팅
2022.03.26 7절 제외하고 11절까지 포스팅

​모든 내용을 상세히 담으려 하지 않았습니다.
제가 모르는 부분이나, &ldquo;이런 것도 있었어?&rdquo; 하는 부분, 중요하다고 생각되는 부분,
다시 한번 되새기고 싶은 부분만 기록했습니다.
와.. 드디어 마지막 장이네요. 긴 여정이 끝났습니다. 고생한 나 자신에게 박수~!
읽어주셔서 감사합니다."><meta property="og:type" content="article"><meta property="og:url" content="https://jaejin0me.github.io/post/20220325/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-03-25T17:20:52+09:00"><meta property="article:modified_time" content="2022-03-25T17:20:52+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="몰입! 자바스크립트 - 29장 자바스크립트 활용"><meta name=twitter:description content="이력

2022.03.25 5절까지 포스팅
2022.03.26 7절 제외하고 11절까지 포스팅

​모든 내용을 상세히 담으려 하지 않았습니다.
제가 모르는 부분이나, &ldquo;이런 것도 있었어?&rdquo; 하는 부분, 중요하다고 생각되는 부분,
다시 한번 되새기고 싶은 부분만 기록했습니다.
와.. 드디어 마지막 장이네요. 긴 여정이 끝났습니다. 고생한 나 자신에게 박수~!
읽어주셔서 감사합니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://jaejin0me.github.io/post/"},{"@type":"ListItem","position":2,"name":"몰입! 자바스크립트 - 29장 자바스크립트 활용","item":"https://jaejin0me.github.io/post/20220325/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"몰입! 자바스크립트 - 29장 자바스크립트 활용","name":"몰입! 자바스크립트 - 29장 자바스크립트 활용","description":"이력\n2022.03.25 5절까지 포스팅 2022.03.26 7절 제외하고 11절까지 포스팅 ​모든 내용을 상세히 담으려 하지 않았습니다.\n제가 모르는 부분이나, \u0026ldquo;이런 것도 있었어?\u0026rdquo; 하는 부분, 중요하다고 생각되는 부분,\n다시 한번 되새기고 싶은 부분만 기록했습니다.\n와.. 드디어 마지막 장이네요. 긴 여정이 끝났습니다. 고생한 나 자신에게 박수~!\n읽어주셔서 감사합니다.\n","keywords":["javascript"],"articleBody":"이력\n2022.03.25 5절까지 포스팅 2022.03.26 7절 제외하고 11절까지 포스팅 ​모든 내용을 상세히 담으려 하지 않았습니다.\n제가 모르는 부분이나, “이런 것도 있었어?” 하는 부분, 중요하다고 생각되는 부분,\n다시 한번 되새기고 싶은 부분만 기록했습니다.\n와.. 드디어 마지막 장이네요. 긴 여정이 끝났습니다. 고생한 나 자신에게 박수~!\n읽어주셔서 감사합니다.\n29.1 재귀 함수 29.2 오브젝트 프로퍼티 이동 아래의 코드는 할당한 오브젝트를 참조하기 때문에 값이 연동됩니다. 1 2 3 4 5 var soccer = {member: 11}; var sports = soccer; sports.member = 789; js.log(soccer.member); // 789 값의 연동을 원하지 않을 때는 오브젝트가 아닌 프로퍼티 단위로 할당해야 한다. 1 2 3 4 5 6 7 8 var sports = {member: 11}; var dup = {}; for (var name in sports) { dup{name] = sports[name] } dup.member = 'abc'; js.log(sports.member); // 11 29.3 JSON과 재귀함수 재귀 함수를 이용해 복잡한 오브젝트를 프로퍼티 단위로 간단하게 복사할 수 있습니다. ​ 29.4 함수 즉시 실행 함수는 호출해야 실행되지만 즉시 실행 시키는 형태가 있습니다. 익명 함수라고 부릅니다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 var value = function() { return 123; }(); js.log('자동 실행: ' + value); // 123 value = (function() { return 456; }()); js.log(value); // 456 (function() { js.log('abc'); }()); // abc // 소괄호는 그룹핑 연산자입니다. 그룹핑 연산자의 소괄호 안의 표현식을 평가하고 평가 결과를 반환합니다. // 소괄호가 없으면 함수 이름이 없으므로 함수 선언문도 아니고, 변수에 할당하고 있지도 않으므로 함수 // 표현식이 아니라 에러가 발생합니다. (function(param) { js.log(param); js.log(arguments[0]); }(789)); // 789 // 789 표현식과 표현식의 결과는 메모리에 저장되지 않습니다. ​ 29.5 클로저와 자바스크립트 엔진 처리 클로저는 js의 특징 기능을 지칭한 것입니다. 특정 기능이란 함수를 생성할 때 Function 오브젝트의 [[Scope]]에 렉시컬 환경을 설정하고 함수가 호출되었을 때 [[Scope]]에 설정된 프로퍼티를 사용하는 것입니다. 1 2 3 4 5 6 7 LE: { ER: { DER: xxx, OER: yyy, }, OLER: [[Scope]]에 설정된 프로퍼티를 참조합니다. } [[Scope]]에 설정된 프로퍼티는 1단계 밖의 함수와 변수입니다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function sports() { var value = 100; function setValue(param) { value = param; }; var getValue = function(param) { value = value = param; return value; } return getValue; } var getObject = sports(); debugger; js.log(getObject(123)); js.log(getObject(77)); // 223 // 300 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 실행 준비 단계 1. EC를 생성합니다. 2. 파라미터 값을 갖고 EC안으로 이동합니다. - 파라미터 값: 호출한 함수가 속한 오브젝트, 함수 코드, 호출한 함수의 파라미터 값 3. 세 개의 컴포넌트를 생성합니다. 4. 파라미터로 받은 호출한 함수가 속한 오브젝트의 프로퍼티를 TBC에 설정합니다. 5. LE를 생성합니다. 6. 호출한 함수의 오브젝트의 [[Scope]]를 OLER에 설정합니다. 7. LE를 LEC와 VEC에 설정합니다. 초기화 및 실행 단계 1. 파라미터 값을 매핑하고 결과를 DER에 설정합니다. 2. 함수 선언문을 Function 오브젝트로 생성합니다. 3. 함수 코드의 처음으로 올라가 변수를 초기화하여 DER에 바인딩합니다. 4. 함수 코드의 처음으로 올라가 js 코드를 실행합니다. 5. DER의 value 프로퍼티에 100을 설정합니다. 6. getValue Function 오브젝트를 생성합니다. 7. getValue Function 오브젝트를 반환합니다. 멈춘 시점에 getValue 함수 안을 해석하지 않았으므로 getValue 함수에서 value 변수 사용 여부를 알 수 없습니다. 표시하려면 value와 setValue 함수를 모두 표시해야 합니다. 개발자 도구에서 Closure를 표시할 때 getValue의 [[Scope]]와 getValue 함수안의 코드를 분석하여 표시한 것으로 생각됩니다. getValue 안에 setValue 함수를 호출하면 Closure 안에 setValue도 표시됩니다. 1 2 3 4 5 6 getObject 함수 실행 1. EC를 생성합니다. 2. getObject 함수의 [[Scope]]에 설정된 프로퍼티를 OLER에 설정합니다. - value와 setValue 함수를 사용할 수 있게 됩니다. 3. 파라미터 값을 매핑하고 결과를 DER에 설정합니다. 4. 함수 안의 코드를 실행합니다 호출된 함수의 파라미터 이름도 클로저로 사용하 수 있습니다. 1 2 3 4 5 6 7 8 9 10 11 function sports(one) { var value = 50; var getValue = function(two) { value = value + one + two; return value; } return getValue; } var getObject = sports(10); console.log(getObject(20)); // 80 29.6 클로저와 무명함수 앞 절 예제에서 sports 함수 안에서 getValue 함수를 반환하여 함수로 사용하므로 sports 함수는 의미가 없으며 Function 오브젝트로 저장할 필요가 없습니다. 이때 익명함수를 사용하면 효율적입니다. 1 2 3 4 5 6 7 8 9 10 11 var getObject = (function() { var value = 100; var getValue = function(param) { value = value + param; return value; } return getValue; }()); console.log(getObject(123)); // 100 (function(){}()) 형태는 function을 표현식으로 처리하므로 메모리에 남지 않아 다시 호출할 수 없습니다. 하지만 return getValue; 문장으로 함수를 반환하여 변수에 저장하면 getValue 함수를 호출할 수 있으며 Function 오브젝트의 [[Scope]]에 설정된 value 변수값을 사용할 수 있습니다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var sales = (function(){ var value = 100; function setValue(param){ value = value + param; } var getValue = function(){ return value; } return { setValue: setValue, getValue: getValue, getAverage: function(param){ return value / param; } } }()); sales.setValue(260); console.log(sales.getValue()); console.log(sales.getAverage(30)); // 360 // 12 변수는 외부에서 직접 접근하거나 this로 접근할 수 없으므로 함수를 호출하여 접근해야 합니다. 이를 통해 정보를 보호할 수 있으며 숨길 수 있습니다. 브라우저 개발자 도구에서는 볼 수 있습니다. 웹에서 정보의 숨김과 보호는 의미가 크지 않으며 정보가 노출된다는 전제하에 개발해야 합니다. 29.7 클로저와 인스턴스 29.8 메소드 체인 메소드 체인은 시나리오(Use case)의 흐름대로 처리할 수 있는 방법을 제공한다. 29.9 사용자 정의 이벤트 29.10 HTML5 템플릿 HTML의 엘리먼트 대신에 자바스크립트로 템플릿으 만들어 사용할 수 있습니다. 29.11 자바스크립트 템플릿 js로 다양한 형태의 템플릿을 만들어 사용할 수 있습니다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var data = [ {'textClass': 'dataClass', text: 'text-1'}, {'textClass': 'dataClass', text: 'text-2'}, {'textClass': 'dataClass', text: 'text-3'} ] var template = function(format) { this.template = format; }; template.prototype = { template: /\\{([\\w-]+)?\\}/g, match: function(data){ return this.template.replace(this.templateExp, function(src, key) { return data[key]; }); } }; var templateObj = new template('{text}'); var markupList = []; data.forEach(function(obj){ markupList.push(templateObj.match(obj)); }, this); document.getElementById('first').innerHTML = markupList.join(''); 1 2 3 4 시나리오 1. new template()로 템플릿 인스턴스를 생성합니다. 2. data에 작성된 데이터를 하나씩 읽어가면서 템플릿에 적용합니다. 3. div#first 엘리먼트를 생성하고 innerHtml 속성에 배열의 문자열을 연결하여 설정합니다. ","wordCount":"2273","inLanguage":"ko","datePublished":"2022-03-25T17:20:52+09:00","dateModified":"2022-03-25T17:20:52+09:00","author":{"@type":"Person","name":"Jaejin Jang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jaejin0me.github.io/post/20220325/"},"publisher":{"@type":"Organization","name":"Jaejin's blog","logo":{"@type":"ImageObject","url":"https://jaejin0me.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jaejin0me.github.io/ accesskey=h title="Jaejin's blog (Alt + H)">Jaejin's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://jaejin0me.github.io/ title=Home><span>Home</span></a></li><li><a href=https://jaejin0me.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://jaejin0me.github.io/post/ title=Posts><span>Posts</span></a></li><li><a href=https://jaejin0me.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://jaejin0me.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://jaejin0me.github.io/about/ title="About Me"><span>About Me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">몰입! 자바스크립트 - 29장 자바스크립트 활용</h1><div class=post-meta><span title='2022-03-25 17:20:52 +0900 +0900'>3월 25, 2022</span>&nbsp;·&nbsp;Jaejin Jang</div></header><div class=post-content><p>이력</p><ul><li>2022.03.25 5절까지 포스팅</li><li>2022.03.26 7절 제외하고 11절까지 포스팅</li></ul><p><em>​모든 내용을 상세히 담으려 하지 않았습니다.<br>제가 모르는 부분이나, &ldquo;이런 것도 있었어?&rdquo; 하는 부분, 중요하다고 생각되는 부분,<br>다시 한번 되새기고 싶은 부분만 기록했습니다.<br>와.. 드디어 마지막 장이네요. 긴 여정이 끝났습니다. 고생한 나 자신에게 박수~!<br>읽어주셔서 감사합니다.</em></p><h2 id=291-재귀-함수>29.1 재귀 함수<a hidden class=anchor aria-hidden=true href=#291-재귀-함수>#</a></h2><h2 id=292-오브젝트-프로퍼티-이동>29.2 오브젝트 프로퍼티 이동<a hidden class=anchor aria-hidden=true href=#292-오브젝트-프로퍼티-이동>#</a></h2><ul><li>아래의 코드는 할당한 오브젝트를 참조하기 때문에 값이 연동됩니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>var</span> <span class=n>soccer</span> <span class=o>=</span> <span class=p>{</span><span class=n>member</span><span class=p>:</span> <span class=mi>11</span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=k>var</span> <span class=n>sports</span> <span class=o>=</span> <span class=n>soccer</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>sports</span><span class=o>.</span><span class=n>member</span> <span class=o>=</span> <span class=mi>789</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>js</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>soccer</span><span class=o>.</span><span class=n>member</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>789</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>값의 연동을 원하지 않을 때는 오브젝트가 아닌 프로퍼티 단위로 할당해야 한다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>var</span> <span class=n>sports</span> <span class=o>=</span> <span class=p>{</span><span class=n>member</span><span class=p>:</span> <span class=mi>11</span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=k>var</span> <span class=n>dup</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=k>var</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>sports</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>dup</span><span class=p>{</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>sports</span><span class=p>[</span><span class=n>name</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>dup</span><span class=o>.</span><span class=n>member</span> <span class=o>=</span> <span class=s1>&#39;abc&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>js</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>sports</span><span class=o>.</span><span class=n>member</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>11</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=293-json과-재귀함수>29.3 JSON과 재귀함수<a hidden class=anchor aria-hidden=true href=#293-json과-재귀함수>#</a></h2><ul><li>재귀 함수를 이용해 복잡한 오브젝트를 프로퍼티 단위로 간단하게 복사할 수 있습니다.
​</li></ul><h2 id=294-함수-즉시-실행>29.4 함수 즉시 실행<a hidden class=anchor aria-hidden=true href=#294-함수-즉시-실행>#</a></h2><ul><li>함수는 호출해야 실행되지만 즉시 실행 시키는 형태가 있습니다. 익명 함수라고 부릅니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>var</span> <span class=n>value</span> <span class=o>=</span> <span class=n>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>123</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}();</span>
</span></span><span class=line><span class=cl><span class=n>js</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=s1>&#39;자동 실행: &#39;</span> <span class=o>+</span> <span class=n>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>123</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>value</span> <span class=o>=</span> <span class=p>(</span><span class=n>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>456</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}());</span>
</span></span><span class=line><span class=cl><span class=n>js</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>456</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=n>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>js</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=s1>&#39;abc&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}());</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>abc</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=err>소괄호는</span> <span class=err>그룹핑</span> <span class=err>연산자입니다</span><span class=o>.</span> <span class=err>그룹핑</span> <span class=err>연산자의</span> <span class=err>소괄호</span> <span class=err>안의</span> <span class=err>표현식을</span> <span class=err>평가하고</span> <span class=err>평가</span> <span class=err>결과를</span> <span class=err>반환합니다</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=err>소괄호가</span> <span class=err>없으면</span> <span class=err>함수</span> <span class=err>이름이</span> <span class=err>없으므로</span> <span class=err>함수</span> <span class=err>선언문도</span> <span class=err>아니고</span><span class=p>,</span> <span class=err>변수에</span> <span class=err>할당하고</span> <span class=err>있지도</span> <span class=err>않으므로</span> <span class=err>함수</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=err>표현식이</span> <span class=err>아니라</span> <span class=err>에러가</span> <span class=err>발생합니다</span><span class=o>.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=n>function</span><span class=p>(</span><span class=n>param</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>js</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>param</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>js</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>arguments</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>}(</span><span class=mi>789</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>789</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>789</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>표현식과 표현식의 결과는 메모리에 저장되지 않습니다.
​</li></ul><h2 id=295-클로저와-자바스크립트-엔진-처리>29.5 클로저와 자바스크립트 엔진 처리<a hidden class=anchor aria-hidden=true href=#295-클로저와-자바스크립트-엔진-처리>#</a></h2><ul><li>클로저는 js의 특징 기능을 지칭한 것입니다. 특정 기능이란 함수를 생성할 때 Function 오브젝트의 [[Scope]]에 렉시컬 환경을 설정하고 함수가 호출되었을 때 [[Scope]]에 설정된 프로퍼티를 사용하는 것입니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>LE: {
</span></span><span class=line><span class=cl>  ER: {
</span></span><span class=line><span class=cl>    DER: xxx,
</span></span><span class=line><span class=cl>    OER: yyy,
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>  OLER: [[Scope]]에 설정된 프로퍼티를 참조합니다.
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><ul><li>[[Scope]]에 설정된 프로퍼티는 1단계 밖의 함수와 변수입니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>function</span> <span class=n>sports</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>var</span> <span class=n>value</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>function</span> <span class=n>setValue</span><span class=p>(</span><span class=n>param</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>value</span> <span class=o>=</span> <span class=n>param</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>var</span> <span class=n>getValue</span> <span class=o>=</span> <span class=n>function</span><span class=p>(</span><span class=n>param</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>value</span> <span class=o>=</span> <span class=n>value</span> <span class=o>=</span> <span class=n>param</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>getValue</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>var</span> <span class=n>getObject</span> <span class=o>=</span> <span class=n>sports</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>debugger</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>js</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>getObject</span><span class=p>(</span><span class=mi>123</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=n>js</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>getObject</span><span class=p>(</span><span class=mi>77</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>223</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>300</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>실행 준비 단계
</span></span><span class=line><span class=cl>1. EC를 생성합니다.
</span></span><span class=line><span class=cl>2. 파라미터 값을 갖고 EC안으로 이동합니다.
</span></span><span class=line><span class=cl>  - 파라미터 값: 호출한 함수가 속한 오브젝트, 함수 코드, 호출한 함수의 파라미터 값
</span></span><span class=line><span class=cl>3. 세 개의 컴포넌트를 생성합니다.
</span></span><span class=line><span class=cl>4. 파라미터로 받은 호출한 함수가 속한 오브젝트의 프로퍼티를 TBC에 설정합니다.
</span></span><span class=line><span class=cl>5. LE를 생성합니다.
</span></span><span class=line><span class=cl>6. 호출한 함수의 오브젝트의 [[Scope]]를 OLER에 설정합니다.
</span></span><span class=line><span class=cl>7. LE를 LEC와 VEC에 설정합니다.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>초기화 및 실행 단계
</span></span><span class=line><span class=cl>1. 파라미터 값을 매핑하고 결과를 DER에 설정합니다.
</span></span><span class=line><span class=cl>2. 함수 선언문을 Function 오브젝트로 생성합니다.
</span></span><span class=line><span class=cl>3. 함수 코드의 처음으로 올라가 변수를 초기화하여 DER에 바인딩합니다.
</span></span><span class=line><span class=cl>4. 함수 코드의 처음으로 올라가 js 코드를 실행합니다.
</span></span><span class=line><span class=cl>5. DER의 value 프로퍼티에 100을 설정합니다.
</span></span><span class=line><span class=cl>6. getValue Function 오브젝트를 생성합니다.
</span></span><span class=line><span class=cl>7. getValue Function 오브젝트를 반환합니다.
</span></span></code></pre></td></tr></table></div></div><p><img loading=lazy src=/20220325_1.png alt=fig.1 title=fig.1></p><ul><li>멈춘 시점에 getValue 함수 안을 해석하지 않았으므로 getValue 함수에서 value 변수 사용 여부를 알 수 없습니다. 표시하려면 value와 setValue 함수를 모두 표시해야 합니다.</li><li>개발자 도구에서 Closure를 표시할 때 getValue의 [[Scope]]와 getValue 함수안의 코드를 분석하여 표시한 것으로 생각됩니다. getValue 안에 setValue 함수를 호출하면 Closure 안에 setValue도 표시됩니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>getObject 함수 실행
</span></span><span class=line><span class=cl>1. EC를 생성합니다.
</span></span><span class=line><span class=cl>2. getObject 함수의 [[Scope]]에 설정된 프로퍼티를 OLER에 설정합니다.
</span></span><span class=line><span class=cl>  - value와 setValue 함수를 사용할 수 있게 됩니다.
</span></span><span class=line><span class=cl>3. 파라미터 값을 매핑하고 결과를 DER에 설정합니다.
</span></span><span class=line><span class=cl>4. 함수 안의 코드를 실행합니다
</span></span></code></pre></td></tr></table></div></div><ul><li>호출된 함수의 파라미터 이름도 클로저로 사용하 수 있습니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>function</span> <span class=n>sports</span><span class=p>(</span><span class=n>one</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>var</span> <span class=n>value</span> <span class=o>=</span> <span class=mi>50</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>var</span> <span class=n>getValue</span> <span class=o>=</span> <span class=n>function</span><span class=p>(</span><span class=n>two</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>value</span> <span class=o>=</span> <span class=n>value</span> <span class=o>+</span> <span class=n>one</span> <span class=o>+</span> <span class=n>two</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>getValue</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>var</span> <span class=n>getObject</span> <span class=o>=</span> <span class=n>sports</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>console</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>getObject</span><span class=p>(</span><span class=mi>20</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>80</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=296-클로저와-무명함수>29.6 클로저와 무명함수<a hidden class=anchor aria-hidden=true href=#296-클로저와-무명함수>#</a></h2><ul><li>앞 절 예제에서 sports 함수 안에서 getValue 함수를 반환하여 함수로 사용하므로 sports 함수는 의미가 없으며 Function 오브젝트로 저장할 필요가 없습니다. 이때 익명함수를 사용하면 효율적입니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>var</span> <span class=n>getObject</span> <span class=o>=</span> <span class=p>(</span><span class=n>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>var</span> <span class=n>value</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>var</span> <span class=n>getValue</span> <span class=o>=</span> <span class=n>function</span><span class=p>(</span><span class=n>param</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>value</span> <span class=o>=</span> <span class=n>value</span> <span class=o>+</span> <span class=n>param</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>getValue</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>console</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>getObject</span><span class=p>(</span><span class=mi>123</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>100</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>(function(){}()) 형태는 function을 표현식으로 처리하므로 메모리에 남지 않아 다시 호출할 수 없습니다. 하지만 return getValue; 문장으로 함수를 반환하여 변수에 저장하면 getValue 함수를 호출할 수 있으며 Function 오브젝트의 [[Scope]]에 설정된 value 변수값을 사용할 수 있습니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>var</span> <span class=n>sales</span> <span class=o>=</span> <span class=p>(</span><span class=n>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>var</span> <span class=n>value</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>function</span> <span class=n>setValue</span><span class=p>(</span><span class=n>param</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>value</span> <span class=o>=</span> <span class=n>value</span> <span class=o>+</span> <span class=n>param</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>var</span> <span class=n>getValue</span> <span class=o>=</span> <span class=n>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>setValue</span><span class=p>:</span> <span class=n>setValue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>getValue</span><span class=p>:</span> <span class=n>getValue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>getAverage</span><span class=p>:</span> <span class=n>function</span><span class=p>(</span><span class=n>param</span><span class=p>){</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=n>value</span> <span class=o>/</span> <span class=n>param</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>sales</span><span class=o>.</span><span class=n>setValue</span><span class=p>(</span><span class=mi>260</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>console</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>sales</span><span class=o>.</span><span class=n>getValue</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=n>console</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>sales</span><span class=o>.</span><span class=n>getAverage</span><span class=p>(</span><span class=mi>30</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>360</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=mi>12</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>변수는 외부에서 직접 접근하거나 this로 접근할 수 없으므로 함수를 호출하여 접근해야 합니다. 이를 통해 정보를 보호할 수 있으며 숨길 수 있습니다. 브라우저 개발자 도구에서는 볼 수 있습니다. 웹에서 정보의 숨김과 보호는 의미가 크지 않으며 정보가 노출된다는 전제하에 개발해야 합니다.</li></ul><h2 id=297-클로저와-인스턴스>29.7 클로저와 인스턴스<a hidden class=anchor aria-hidden=true href=#297-클로저와-인스턴스>#</a></h2><h2 id=298-메소드-체인>29.8 메소드 체인<a hidden class=anchor aria-hidden=true href=#298-메소드-체인>#</a></h2><ul><li>메소드 체인은 시나리오(Use case)의 흐름대로 처리할 수 있는 방법을 제공한다.</li></ul><h2 id=299-사용자-정의-이벤트>29.9 사용자 정의 이벤트<a hidden class=anchor aria-hidden=true href=#299-사용자-정의-이벤트>#</a></h2><h2 id=2910-html5-템플릿>29.10 HTML5 템플릿<a hidden class=anchor aria-hidden=true href=#2910-html5-템플릿>#</a></h2><ul><li>HTML의 엘리먼트 대신에 자바스크립트로 템플릿으 만들어 사용할 수 있습니다.</li></ul><h2 id=2911-자바스크립트-템플릿>29.11 자바스크립트 템플릿<a hidden class=anchor aria-hidden=true href=#2911-자바스크립트-템플릿>#</a></h2><ul><li>js로 다양한 형태의 템플릿을 만들어 사용할 수 있습니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>var</span> <span class=n>data</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=s1>&#39;textClass&#39;</span><span class=p>:</span> <span class=s1>&#39;dataClass&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=s1>&#39;text-1&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=s1>&#39;textClass&#39;</span><span class=p>:</span> <span class=s1>&#39;dataClass&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=s1>&#39;text-2&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=s1>&#39;textClass&#39;</span><span class=p>:</span> <span class=s1>&#39;dataClass&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=s1>&#39;text-3&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>var</span> <span class=n>template</span> <span class=o>=</span> <span class=n>function</span><span class=p>(</span><span class=n>format</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>this</span><span class=o>.</span><span class=n>template</span> <span class=o>=</span> <span class=n>format</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>template</span><span class=o>.</span><span class=n>prototype</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>template</span><span class=p>:</span> <span class=o>/</span>\<span class=p>{([</span>\<span class=n>w</span><span class=o>-</span><span class=p>]</span><span class=o>+</span><span class=p>)</span><span class=err>?</span>\<span class=p>}</span><span class=o>/</span><span class=n>g</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=n>match</span><span class=p>:</span> <span class=n>function</span><span class=p>(</span><span class=n>data</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>this</span><span class=o>.</span><span class=n>template</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>this</span><span class=o>.</span><span class=n>templateExp</span><span class=p>,</span> <span class=n>function</span><span class=p>(</span><span class=n>src</span><span class=p>,</span> <span class=n>key</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=n>data</span><span class=p>[</span><span class=n>key</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=k>var</span> <span class=n>templateObj</span> <span class=o>=</span> <span class=n>new</span> <span class=n>template</span><span class=p>(</span><span class=s1>&#39;&lt;div class=&#34;{textClass}&#34;&gt;{text}&lt;/div&gt;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>var</span> <span class=n>markupList</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=n>data</span><span class=o>.</span><span class=n>forEach</span><span class=p>(</span><span class=n>function</span><span class=p>(</span><span class=n>obj</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>markupList</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=n>templateObj</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=n>obj</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=n>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>document</span><span class=o>.</span><span class=n>getElementById</span><span class=p>(</span><span class=s1>&#39;first&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>innerHTML</span> <span class=o>=</span> <span class=n>markupList</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>시나리오
</span></span><span class=line><span class=cl>1. new template()로 템플릿 인스턴스를 생성합니다.
</span></span><span class=line><span class=cl>2. data에 작성된 데이터를 하나씩 읽어가면서 템플릿에 적용합니다.
</span></span><span class=line><span class=cl>3. div#first 엘리먼트를 생성하고 innerHtml 속성에 배열의 문자열을 연결하여 설정합니다.
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://jaejin0me.github.io/tags/javascript/>Javascript</a></li></ul></footer><script src=https://utteranc.es/client.js repo=jaejin0me/blog_comment issue-term=title label=comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>Jaejin Jang</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>