<!doctype html><html lang=ko dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>java.lang.Integer parseInt 메소드 분석 | Jaejin's blog</title><meta name=keywords content="java"><meta name=description content="스트링을 숫자로 변화해주는 parseInt 메소드는 parseInt(String) parseInt(String, int) 2가지가 존재합니다. 하지만 parseInt(String)의 경우 내부를 보면 parseInt(Stri"><meta name=author content="Jaejin Jang"><link rel=canonical href=https://jaejin0me.github.io/post/posts124/><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://jaejin0me.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jaejin0me.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jaejin0me.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jaejin0me.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jaejin0me.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-F8504X956T"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-F8504X956T",{anonymize_ip:!0})}</script><meta property="og:title" content="java.lang.Integer parseInt 메소드 분석"><meta property="og:description" content="스트링을 숫자로 변화해주는 parseInt 메소드는 parseInt(String) parseInt(String, int) 2가지가 존재합니다. 하지만 parseInt(String)의 경우 내부를 보면 parseInt(Stri"><meta property="og:type" content="article"><meta property="og:url" content="https://jaejin0me.github.io/post/posts124/"><meta property="article:section" content="post"><meta property="article:published_time" content="2017-12-23T01:37:56+08:00"><meta property="article:modified_time" content="2017-12-23T01:37:56+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="java.lang.Integer parseInt 메소드 분석"><meta name=twitter:description content="스트링을 숫자로 변화해주는 parseInt 메소드는 parseInt(String) parseInt(String, int) 2가지가 존재합니다. 하지만 parseInt(String)의 경우 내부를 보면 parseInt(Stri"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://jaejin0me.github.io/post/"},{"@type":"ListItem","position":3,"name":"java.lang.Integer parseInt 메소드 분석","item":"https://jaejin0me.github.io/post/posts124/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"java.lang.Integer parseInt 메소드 분석","name":"java.lang.Integer parseInt 메소드 분석","description":"스트링을 숫자로 변화해주는 parseInt 메소드는 parseInt(String) parseInt(String, int) 2가지가 존재합니다. 하지만 parseInt(String)의 경우 내부를 보면 parseInt(Stri","keywords":["java"],"articleBody":"스트링을 숫자로 변화해주는 parseInt 메소드는\nparseInt(String) parseInt(String, int)\n2가지가 존재합니다. 하지만 parseInt(String)의 경우 내부를 보면 parseInt(String,10)으로 구현되어 있기 때문에 parseInt(String, int)만 분석하면 됩니다. 변환할 문자열이 null이면 NumberFormatException이 납니다. int형의 인자로 진법을 설정할 수가 있습니다. 최소 2진법에서 최대 36진법까지 변환할 수 있습니다. 범위를 넘어가게 되면 NumberFormatException 이 납니다.\n코드를 분석하면서 아이러니 했던 것은 문자열이 양수인 경우에도 결과값을 -값으로 누적하면서 계산하게 됩니다. 그 이유는 max보다 min의 절대값 정수현 표현 범위가 1 크기 때문에 -로 누적하면서 계산하면 음수와 양수인 경우 모두 계산가능하기 때문입니다.\n내부적으로 보면 각문자열을 digit = Character.digit(s.charAt(i++),radix); 를 이용해 변환하는 것을 확인할 수 있습니다. 그리고 범위를 벗어나는지를 확인하기 위해 3개의 if문이 옵니다. 첫번째 if문의 경우 digit의 값을 검사하는 루틴으로 0미만의 값 리턴, 즉 -1 리턴을 검사하기 위함입니다. -1 리턴의 경우 Chracter.digit()메소드에서 실패를 의미합니다. 두번째 if문의 경우 범위 검사입니다. 양수와 음수에 상관없이 limit = -214748364 가 됩니다. 결과값이 limit보다 작아지는경우는 -214748365,-214748366,-214748367,-214748368… 등이 값이 오게 되는 데요 이 경우는 무조건 MAX나 MIN값을 벗어나게 되기 때문에 예외가 일어납니다. 세번째 if문의 경우 결과값이 앞의 자리는 양수인 경우 [-2147483647,-2147483640] 인지 음수인 경우 [-2147483648,-2147483640] 인지를 확인하는 루틴입니다. 2번째 루틴에서는 십의 자리를 통해 범위를 확인했다면 세번째 루틴에서는 일의 자리 범위를 확인하는 과정이라고 보시면 됩니다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 public static int parseInt(String s, int radix) throws NumberFormatException { if (s == null) { //문자열 인자가 널이면 예외 발생 throw new NumberFormatException(\"null\"); } if (radix \u003c Character.MIN_RADIX) { // 2진법 미만이면 예외 발생 throw new NumberFormatException(\"radix \" + radix + \" less than Character.MIN_RADIX\"); } if (radix \u003e Character.MAX_RADIX) { //36 진법 초과이면 예외 발생 throw new NumberFormatException(\"radix \" + radix + \" greater than Character.MAX_RADIX\"); } int result = 0; boolean negative = false; int i = 0, len = s.length(); int limit = -Integer.MAX_VALUE; int multmin; int digit; if (len \u003e 0) { char firstChar = s.charAt(0); if (firstChar \u003c '0') { // Possible leading \"-\" if (firstChar == '-') { negative = true; limit = Integer.MIN_VALUE; } else throw NumberFormatException.forInputString(s); if (len == 1) // Cannot have lone \"-\" throw NumberFormatException.forInputString(s); i++; } multmin = limit / radix; while (i \u003c len) { // Accumulating negatively avoids surprises near MAX_VALUE digit = Character.digit(s.charAt(i++),radix); if (digit \u003c 0) { // Chrater.digit() 메소드 실패인 경우 throw NumberFormatException.forInputString(s); } if (result \u003c multmin) { // 십의 자리에서 범위를 벗어나는 경우 throw NumberFormatException.forInputString(s); } result *= radix; if (result \u003c limit + digit) { // 일의 자리에서 범위를 벗어나는 경우 throw NumberFormatException.forInputString(s); } result -= digit; } } else { throw NumberFormatException.forInputString(s); } return negative ? result : -result; } ","wordCount":"981","inLanguage":"ko","datePublished":"2017-12-23T01:37:56+08:00","dateModified":"2017-12-23T01:37:56+08:00","author":{"@type":"Person","name":"Jaejin Jang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jaejin0me.github.io/post/posts124/"},"publisher":{"@type":"Organization","name":"Jaejin's blog","logo":{"@type":"ImageObject","url":"https://jaejin0me.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jaejin0me.github.io accesskey=h title="Jaejin's blog (Alt + H)">Jaejin's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://jaejin0me.github.io/ title=Home><span>Home</span></a></li><li><a href=https://jaejin0me.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://jaejin0me.github.io/post/ title=Posts><span>Posts</span></a></li><li><a href=https://jaejin0me.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://jaejin0me.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://jaejin0me.github.io/about/ title="About Me"><span>About Me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>java.lang.Integer parseInt 메소드 분석</h1><div class=post-meta><span title='2017-12-23 01:37:56 +0800 +0800'>12월 23, 2017</span>&nbsp;·&nbsp;Jaejin Jang</div></header><div class=post-content><p>스트링을 숫자로 변화해주는 parseInt 메소드는</p><p>parseInt(String)
parseInt(String, int)</p><p>2가지가 존재합니다. 하지만 parseInt(String)의 경우 내부를 보면 parseInt(String,10)으로 구현되어 있기 때문에 parseInt(String, int)만 분석하면 됩니다.
변환할 문자열이 null이면 NumberFormatException이 납니다.
int형의 인자로 진법을 설정할 수가 있습니다. 최소 2진법에서 최대 36진법까지 변환할 수 있습니다. 범위를 넘어가게 되면 NumberFormatException 이 납니다.</p><p>코드를 분석하면서 아이러니 했던 것은 문자열이 양수인 경우에도 결과값을 -값으로 누적하면서 계산하게 됩니다. 그 이유는 max보다 min의 절대값 정수현 표현 범위가 1 크기 때문에 -로 누적하면서 계산하면 음수와 양수인 경우 모두 계산가능하기 때문입니다.</p><p>내부적으로 보면 각문자열을 digit = Character.digit(s.charAt(i++),radix); 를 이용해 변환하는 것을 확인할 수 있습니다. 그리고 범위를 벗어나는지를 확인하기 위해 3개의 if문이 옵니다.
첫번째 if문의 경우 digit의 값을 검사하는 루틴으로 0미만의 값 리턴, 즉 -1 리턴을 검사하기 위함입니다. -1 리턴의 경우 Chracter.digit()메소드에서 실패를 의미합니다.
두번째 if문의 경우 범위 검사입니다. 양수와 음수에 상관없이 limit = -214748364 가 됩니다. 결과값이 limit보다 작아지는경우는 -214748365,-214748366,-214748367,-214748368&mldr; 등이 값이 오게 되는 데요 이 경우는 무조건 MAX나 MIN값을 벗어나게 되기 때문에 예외가 일어납니다.
세번째 if문의 경우 결과값이 앞의 자리는 양수인 경우 [-2147483647,-2147483640] 인지 음수인 경우 [-2147483648,-2147483640] 인지를 확인하는 루틴입니다. 2번째 루틴에서는 십의 자리를 통해 범위를 확인했다면 세번째 루틴에서는 일의 자리 범위를 확인하는 과정이라고 보시면 됩니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>     public static int parseInt(String s, int radix)
</span></span><span class=line><span class=cl>                 throws NumberFormatException
</span></span><span class=line><span class=cl>     {
</span></span><span class=line><span class=cl>         if (s == null) { //문자열 인자가 널이면 예외 발생
</span></span><span class=line><span class=cl>             throw new NumberFormatException(&#34;null&#34;);
</span></span><span class=line><span class=cl>         }
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>         if (radix &lt; Character.MIN_RADIX) { // 2진법 미만이면 예외 발생
</span></span><span class=line><span class=cl>             throw new NumberFormatException(&#34;radix &#34; + radix +
</span></span><span class=line><span class=cl>                                             &#34; less than Character.MIN_RADIX&#34;);
</span></span><span class=line><span class=cl>         }
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>         if (radix &gt; Character.MAX_RADIX) {  //36 진법 초과이면 예외 발생
</span></span><span class=line><span class=cl>             throw new NumberFormatException(&#34;radix &#34; + radix +
</span></span><span class=line><span class=cl>                                             &#34; greater than Character.MAX_RADIX&#34;);
</span></span><span class=line><span class=cl>         }
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>         int result = 0;
</span></span><span class=line><span class=cl>         boolean negative = false;
</span></span><span class=line><span class=cl>         int i = 0, len = s.length();
</span></span><span class=line><span class=cl>         int limit = -Integer.MAX_VALUE;
</span></span><span class=line><span class=cl>         int multmin;
</span></span><span class=line><span class=cl>         int digit;
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>         if (len &gt; 0) {
</span></span><span class=line><span class=cl>             char firstChar = s.charAt(0);
</span></span><span class=line><span class=cl>            if (firstChar &lt; &#39;0&#39;) { // Possible leading &#34;-&#34;
</span></span><span class=line><span class=cl>                 if (firstChar == &#39;-&#39;) {
</span></span><span class=line><span class=cl>                     negative = true;
</span></span><span class=line><span class=cl>                    limit = Integer.MIN_VALUE;
</span></span><span class=line><span class=cl>                 } else
</span></span><span class=line><span class=cl>                     throw NumberFormatException.forInputString(s);
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>                 if (len == 1) // Cannot have lone &#34;-&#34;
</span></span><span class=line><span class=cl>                     throw NumberFormatException.forInputString(s);
</span></span><span class=line><span class=cl>                 i++;
</span></span><span class=line><span class=cl>             }
</span></span><span class=line><span class=cl>            multmin = limit / radix;
</span></span><span class=line><span class=cl>             while (i &lt; len) {
</span></span><span class=line><span class=cl>                 // Accumulating negatively avoids surprises near MAX_VALUE
</span></span><span class=line><span class=cl>                digit = Character.digit(s.charAt(i++),radix);
</span></span><span class=line><span class=cl>                if (digit &lt; 0) { // Chrater.digit() 메소드 실패인 경우
</span></span><span class=line><span class=cl>                     throw NumberFormatException.forInputString(s);
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>                if (result &lt; multmin) { // 십의 자리에서 범위를 벗어나는 경우
</span></span><span class=line><span class=cl>                     throw NumberFormatException.forInputString(s);
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>                 result *= radix;
</span></span><span class=line><span class=cl>                if (result &lt; limit + digit) { // 일의 자리에서 범위를 벗어나는 경우
</span></span><span class=line><span class=cl>                     throw NumberFormatException.forInputString(s);
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>                 result -= digit;
</span></span><span class=line><span class=cl>             }
</span></span><span class=line><span class=cl>        } else {
</span></span><span class=line><span class=cl>             throw NumberFormatException.forInputString(s);
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>         return negative ? result : -result;
</span></span><span class=line><span class=cl>     }
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://jaejin0me.github.io/tags/java/>java</a></li></ul></footer></article></main><footer class=footer><span>Jaejin Jang</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>