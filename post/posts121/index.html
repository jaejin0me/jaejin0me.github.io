<!doctype html><html lang=ko dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>영상처리 기초 - 2 | Jaejin's blog</title><meta name=keywords content="영상처리"><meta name=description content="4. 화소값 기본 처리 1) 공간영역의 정의 (1) 공간 영역 화소들의 집단 또는 공간적 배열 (2) 주파수 영역 저주파 또는 고주파 (3) 마스크 기반 처리 마스크의 다른 이름 템플릿, 윈도"><meta name=author content="Jaejin Jang"><link rel=canonical href=https://jaejin0me.github.io/post/posts121/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://jaejin0me.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jaejin0me.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jaejin0me.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jaejin0me.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jaejin0me.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-F8504X956T"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-F8504X956T",{anonymize_ip:!0})}</script><meta property="og:title" content="영상처리 기초 - 2"><meta property="og:description" content="4. 화소값 기본 처리 1) 공간영역의 정의 (1) 공간 영역 화소들의 집단 또는 공간적 배열 (2) 주파수 영역 저주파 또는 고주파 (3) 마스크 기반 처리 마스크의 다른 이름 템플릿, 윈도"><meta property="og:type" content="article"><meta property="og:url" content="https://jaejin0me.github.io/post/posts121/"><meta property="article:section" content="post"><meta property="article:published_time" content="2018-01-24T16:42:42+09:00"><meta property="article:modified_time" content="2018-01-24T16:42:42+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="영상처리 기초 - 2"><meta name=twitter:description content="4. 화소값 기본 처리 1) 공간영역의 정의 (1) 공간 영역 화소들의 집단 또는 공간적 배열 (2) 주파수 영역 저주파 또는 고주파 (3) 마스크 기반 처리 마스크의 다른 이름 템플릿, 윈도"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://jaejin0me.github.io/post/"},{"@type":"ListItem","position":3,"name":"영상처리 기초 - 2","item":"https://jaejin0me.github.io/post/posts121/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"영상처리 기초 - 2","name":"영상처리 기초 - 2","description":"4. 화소값 기본 처리 1) 공간영역의 정의 (1) 공간 영역 화소들의 집단 또는 공간적 배열 (2) 주파수 영역 저주파 또는 고주파 (3) 마스크 기반 처리 마스크의 다른 이름 템플릿, 윈도","keywords":["영상처리"],"articleBody":"4. 화소값 기본 처리 1) 공간영역의 정의 (1) 공간 영역 화소들의 집단 또는 공간적 배열 (2) 주파수 영역 저주파 또는 고주파 (3) 마스크 기반 처리 마스크의 다른 이름 템플릿, 윈도우, 필터, 커널 등 Convolution(회선) 공간 영역 내에 있는 입력 화소값들과 마스크 내의 값을 곱하여 새로운 출력 화소값을 얻는 것이다. 공간 필터링이라 표현됨 $$Output(i,j) = \\sum_{s=-k}^k \\sum_{t=-k}^k m(s,t)p(i+s,j+t)$$ output(i,j) : Convolution(회선) 처리로 출력한 화소 p(i,j) : 입력 영상의 화소 m(i,j) : 입력 영상의 화소에 대응하는 가중치 1 2 3 4 5 6 7 8 9 (4) Convolution(회선) Convolution $$ f*g(t) = \\int_{-inf}^{+inf}f(τ)g(t-τ)dτ $$ (5) Spatial Convolution(공간 회선) Convolution과정 유무에 따라 선형/비선형으로 구분된다. 선형 공간 필터링(출력:y=m1x1+m2x2+ ~~~ mnsx) Embossing:양각효과를 만드는 것 Bluring : 영상을 부드럽게 Shparpening : 세세한 부분을 두드러지게 또는 강조 Edge Detection : 방향성 검출 비선형 공간 필터링 Convolution 과정 대신 블록 내 일정 값만 추출하여 출력하는 형식 미디언, 평균값, 최대/최소 필터링 2) 양각 효과 (1)양각 효과 중앙값이 0이고, 마스크 내의 핪이 0인 마스크를 이용\n중앙이 0이므로 경계가 튀어나와 보인다.\n양각효과 알고리즘\n양각 효과 마스트에 대해 Convolution한다. Convolution한 값에 해당 영상의 평균값을 더한다. 평균값을 더하는 이유\n명암도 영상의 범위가 0~255인 관계로 그 범위 안에 들기 위해 45도 마스크의 예\n-1 0 0 0 0 0 0 0 1 (2)컬러 영상에서 엠보싱 효과 구현 방법 RGB 컬러 공간 -\u003e 각 채널로 분리 -\u003e 각 채널에 양각효과 수행 -\u003e 합성 -\u003e 결과 영상 생성 RGB -\u003e HSI 컬라 공간 변환후 밝기(I)채널에 양가 효과 -\u003e RGB -\u003e 합성 -\u003e 결과 영상 생성 I부부만 건드리기 때문에 HIS 컬러 공간의 요소인 H가 원영상의 색상 부분을 그대로 보존하므로 더 명확하게 구분할 수 있다. 3) 블러링 (1) 저주파 통과 필터링 처리항 영상 성분 중 화소값의 변화율이 작은 저주자 성분을 유지하고 화소값의 변화율이 큰 고주파 성분을 없애는 결과 영상을 얻어내는 것 (2) 블러링 저주자 통과 필터링을 거친 영상은 윤곽선 부분을 이루는 고주파 성분이 제거되어 전체 영상이 부드러워지게 되는 현상 예) 영상에서 대상만 또려하고 나머지 부분은 흐리게 나오는 경우 (3) 블러링 마스크 특징 마스크 내의 계수의 합 = 1 MM의 크기를 가진 마스크에서 마스크 내의 계수 : 1/(MM) (4) 마스크 효과 마스크 내 계수의 값은 똑같이 때문에 주변 화소들과 평균한 결과 잡음(돌출되어 나온 값)을 제거하는 기능 단점 : 영상이 부드러워지고 희미해지기 때문에 영상 대비가 약화 된다 마스크의 크기가 커질 수록 주변 화소의 기여도가 높아져 큰 효과를 나타내지만, 계산할 양이 많아져 수행시간이 증가 된다. 가우시안 잡음은 잡을 수 있지만 임펄스 잡음에 취약하다. 임펄스 잡음은 미디언 필터링을 사용한다. 1/9 1/9 1/9 1/9 1/9 1/9 1/9 1/9 1/9 4) 샤프닝 (1) 샤프닝 마스트 샤프닝 마스크 모든 계수의 합 = 1 중심 계수는 양의 값 주변 화소는 음의 값을 가지고 있기 때문에 Convolution시 주변에 있는 화소값을 약화 시킨다. 따라서 경계선이 두드러져 보인다. 고주파 필터링의 한 종류이다. 잡음을 증가시키기 때문에 남용하면 안된다. 잡음에 민감한 영상인 경우 전처리 과정을 거쳐야 한다. 명암대비 개선 시킬 수 있는 특별 마스크 1 1 1 1 7 1 1 1 1 (2) 고주파 통과 필터링 -1/9 -1/9 -1/9 -1/9 8/9 -1/9 -1/9 -1/9 -1/9 (3) 고주파 지원 통과 필터링 -a/9 -a/9 -a/9 -a/9 w/9 -a/9 -a/9 -a/9 -a/9 W=9a-1, 만약 a가 1이면 고주파 통과 필터링을 위한 마스크와 일치한다 a가 커질수록 더 또렷해진다. 고주파지원 필터링의 절차 원영상에 밝기값을 곱하면 더 밝아진 영상 A를 얻는다. 원 영상에 젖파 필터링한 영상 B를 얻는다. A-B를 수행하여 결과 영상을 얻는다 a*(원 영상) - (저주파 통과 필터링된 결과) 언샤프닝기법 원 영상에서 저주파 필터링을 거쳐 영상을 뺀 것으로 샤프닝과 마찬가지로 경계선을 강조한 영상을 얻어도 강조의 폭이 좁아 잘 두드러지지 않는다. (원 영상)-(저주파 토과 필터링된 결과) 5) 잡음제거 (1) 가우시간 잡음 가우시안 분포를 따르는 잡음으로 블러링으로 제거 가능하다 (2) 임펄스 잡음 임의의 난수 잡음으로 미디언 필터링으로 제거 가능 하다. (3) 미디언 필터링 4 2 3 2 3 6 7 8 9 특징 Uniform noise 제거가 잘 안된다 큰 마스크를 사용할 경우 수행 시간이 증가한다 마스크의 형태가 필터링에 크게 영향을 미친다 HSI공간, 명암도 영상에 효과가 좋다. RGB의 경우 3번을 거쳐야 함으로 속도가 떨어진다 salt-papper 잡음 제거 효율이 좋다. (4) 평균간 필터링 1 2 3 4 5 6 7 8 9 임펄스 잡음 제거가 힘들다 경계를 흐리게 한다 융통성이 적다 (5) 가우시안 스무딩 필터링 정규확률 분포에 의한 잡음 제거를 목적을 한다. 1차원 $$ G(x) = \\frac{1}{a\\sqrt{2\\pi}}exp(\\frac{-x_2}{2a_2}) $$ 2차원 $$ G(x,y) = \\frac{1}{2\\pi a^2}exp(\\frac{-(x_2+y_2)}{2a_2}) $$ 특징 2차원 가우시안 분포함수는 circular symmetry(순환 대칭) 가우시안 분포함수는 단일돌출 부분이 있다 푸리에변화을 해도 단일돌출 부분이 있다 스무딩의 정도인 가우시안 분포 마스크폭은 a로 결정 된다 1/32 1/32 1/16 1/32 1/32 1/32 1/16 1/8 1/16 1/32 1/32 1/8 1/4 1/8 1/16 1/32 1/16 1/8 1/16 1/32 1/32 1/32 1/16 1/32 1/32 가우시안 스무딩 마스크 가우시안 분포함수에 의한 값을 마스크로 표현한 것으로 가우시간 분포 생성 시간을 단축 한다. 6) 에지 추출 (1) 에지 개념 경계선, 윤곽선, 밝기가 변하는 지점 영산 안에 있는 객체의 경계 모양(Shape), 방향성(direction)을 탐지 (2) 1차 미분 밝기의 변화율을 통해 검출하는 방법 $$\\frac{\\partial f(x,y)}{\\partial x} = \\Delta x = \\frac{f(x+dx,y)-f(x,y)}{dx}$$ $$\\frac{\\partial f(x,y)}{\\partial y} = \\Delta y = \\frac{f(x,y+dy)-f(x,y)}{dy}$$ 두 픽셀 사이를 1 이라고 가정 하면, dx=dy=1 $$ \\Delta x = f(x+1,y) - f(x,y) $$ $$ \\Delta y = f(x,y+1) - f(x,y) $$ $$ Gradient magnitude measure, Mag = \\sqrt{\\Delta x^2 + \\Delta y^2} \\approx |\\Delta x| + |\\Delta y| $$ $$ Gradient durectuib measure, $$ Θ = \\tan^{-1}(\\Delta y/\\Delta x) 수평방향미분(x방향) : Gx(x,y) = f(x+1,y)-f(x-1,y) 수직방향미분(y방향) : Gy(x,y) = f(x,y+1)-f(x,y-1) 1차미분에 의한 에지추출 : |Gx(x,y)| + |Gy(x,y)| 절대값, 제곱근 중 편의성 위해 절대값이 주로 이용됨 (x-1,y-1) (x,y-1) (x+1,y-1) (x-1,y) (x,y) (x+1,y) (x-1,y+1) (x,y+1) (x+1,y+1) (3) Sobel 마스크 모든 방향의 에주 추출 잡음에 강함 대각선방향 민감 반응 수평 마스크 -1 0 1 -2 0 2 -1 0 1 수직 마스크 1 2 1 0 0 2 -1 -2 -1 (4) Prewitt 마스크 에지가 덜 부각 수직,수평에 민감 반응 수평 마스크 -1 0 1 -1 0 1 -1 0 1 수직 마스크 1 1 1 0 0 2 -1 -1 -1 (5) Robert 마스크 빠른 속도 주변과 관계 없이 경계가 확실한 에지추출 잡음에 민감 에지가 가늘어 지지만 확실한 추출 가능 수평 마스크 0 0 -1 0 1 0 0 0 0 수직 마스크 -1 0 0 0 1 0 0 0 0 (6) 라플라시안 2차미분 너무 많은 에지 추출 방지 수평,수직,대각선 에지에 민감반응 감소 점진적인 밝기값 변화 부분에 반응 둔화 에지 2차 미분에서 값이 0인 부분(1차 미분의 볼록한 부분의 꼭지점) 4방향 라플라시안 마스크1 0 -1 0 -1 4 -1 0 -1 0 4방향 라플라시안 마스크2 0 1 0 1 -4 1 0 1 0 8방향 라플라시안 마스크1 -1 -1 -1 -1 8 -1 -1 -1 -1 8방향 라플라시안 마스크2 1 -2 1 -2 4 -2 1 -2 1 $$ \\Delta^2 f(x,y) = \\frac{\\partial^2 f(x,y)}{\\partial x^2} + \\frac{\\partial^2 f(x,y)}{\\partial y^2} $$\n$$ \\frac{\\partial^2 f(x,y)}{\\partial x^2} = f(x,y) - f(x+1,y) + f(x,y) - f(x-1,y) $$\n$$ \\frac{\\partial^2 f(x,y)}{\\partial y^2} = f(x,y) - f(x,y+1) + f(x,y) - f(x,y-1) $$\n$$ \\Delta^2 f(x,y) = f(x,y+1) + f(x-1,y) + f(x+1,y) + f(x,y-1) -4f(x,y) $$\n잡음에 약함(주변 밝기화의 차이값을 이용하므로)\n영상내 가는 선이나 고립점에 강하게 반응\n(ab)c = a(bc)\nConvolution operator is commutative\n$$\\frac{d}{dx} \\left[ g*I \\right] = \\left[ \\frac{dg}{dx} \\right] *I $$ $$\\frac{d^2 g}{dx^2} \\approx \\left[ \\frac{x^2}{\\alpha^2} - 1 \\right] e^{\\frac{-x^2}{2\\alpha^2}} $$ $$\\frac{d^2}{dx^2} \\left[g*I \\right] = \\left[ \\frac{d^2g}{dx^2} \\right] * I $$ $$ g(x) \\approx e^{\\frac{-x^2}{2\\alpha^2}} $$ $$ g(x)’ \\approx \\frac{-x}{\\alpha^2} e^{\\frac{-x^2}{2\\alpha^2}} $$ $$ g(x,y) \\approx e^{\\frac{-x^2 + y^2}{2\\alpha^2}} $$ $$ \\Delta g(x,y) -\u003e vector $$ $$ \\Delta^2 g -\u003e scalar $$ (7) LoG(Laplacian of Gaussian) 실행방법 가우시안 스무딩 필터링 - \u003e 라플라시안 $$ \\delta^2 G*f $$ LoG 공식 직접 적용 - \u003e 마스크 생성 $$ LoG(x,y) = \\left[ 1 - \\frac{x^2 + y^2}{2\\alpha^2} \\right] e^{\\frac{-(x^2+y^2)}{2\\alpha^2}} = \\left[ 1 - \\frac{xr^2}{2\\alpha^2} \\right] e^{\\frac{-r^2}{2\\alpha^2}} $$ 알파에 의해 마스크 크기가 달라짐 알파가 크면 스무딩 효과 상승, 뚜렷한 에지 추출, 작으면 스무딩효과 저하, 미세한 에지 추출 (8) DoG(Difference of Gaussian) LoG가 많은 시간이 걸리는 단점을 보완 알파의 값을 조절하여 결과를 다르게 얻음 알파의 크기에 따른 가우시안 ㅡ무딩 필터링의 차를 의미 실행방법 : 공식에 이한 것 $$ DoG(x,y) = G1 -G2 = \\frac{e^{\\frac{-(x^2+y^2)}{2\\alpha_1^2}}}{2\\pi\\alpha_1^2} - \\frac{e^{\\frac{-(x^2+y^2)}{2\\alpha_2^2}}}{2\\pi\\alpha_2^2} $$ 가우시간 마스크의 중복 적용 Dog(x,y)f = (G1-G2)f = G1f - G2f (9) Canny 에지 추출 잡음에 민감하지 않도록 강한 에지 추출 에지추출기의 세 가지 기준(John Canny) 탐지성 : 모든 에지 탐지 국부성 : 실제 에지와 탐지된 에지의 차이 최소화 응답성 : 각 에지에 대한 단일한 대답 7) 모폴로지 morphology : 영상 내의 형태들을 분석하고 처리하는 형태학 적용 예: OCR 전처리, 지문 영상에서 잡음 제거 및 융선 명확히 컬러 지도 내에 있는 객체 추출 morphological processing 영상의 기본적인 특징을 유지하면서 형태에 변화를 주는 것을 의미한다. (1) 침식 연산 침식 연산(Erosion Operator) 배경을 확장, 객체의 크기를 축소 객체 안이나 객체와 배경 사이에 있는 salt-papper 또는 임펄스 잡음 제거에 쓰인다 영상의 돌출부는 감소 시키고 전체 영상에서 아주 작은 물체를 제거하는데 쓰인다. (2) 팽창 연산 침식 연산(Erosion Operator) 배경을 축소, 객체를 확장 객체 안의 빈 공간을 메우는 역할 물체 내부에 발생한 구멍과 같은 공간을 채우거나 짧게 끊어진 영역을 연결하는데 사용됨 (3) 열림 연산 열림 연산 침식 연산과 팽창 연산을 순서대로 진행 물체 밖의 점이 사라짐 좁은 연결 점을 끊으며, 돌출 부분을 제거하는 성질을 가짐 (4) 닫힘 연산 닫힘 연산 팽창 연산과 침식 연산을 순서대로 진행 물체 내부의 점이 사라짐 좁은 연결 점을 융합하고 갈라진 틈을 좁히며 작은 홀을 제거한다 8) 모자이크 효과 (1) 모자이크 효과 블록 형태로 영상을 변형하는 기법 (2) 모자이크 효과 알고리즘의 원리 영상의 전체 내용을 완전히 제거하는 것이 아니라, 일부 영역만 남기고 제거하는 것 영역 내 어떤 값을 선택 또는 생성하여 출력 영상 내 해당 영여글 완전히 채우는 것 5. 형태변환 1) 사상 임의의 기하학적 변화에 의하여 화소들의 배치를 변경하는 것 기하학적 처리 : 확대/축소(Scaling), 회전(Rotation), 이동(Translation), 감축(Reduction) 기하학 기반 처리에서 전방향 사상(Forward mapping)은 오버랩 문제와 홀 문제가 발생할 수 있다. 이 문제를 해결하기 위한 방법이 역방향 사상이다. 2) 회전(Rotation) 원 영상을 원하는 각도만큼 변화하는 것을 가리킨다. 원점을 중심으로 이동 전방향 사상의 경우 x’ = xcosΘ - ysinΘ y’ = xsinΘ + ycosΘ 역방향 사상의 경우 x = cosΘ(x’-Cx) + sinΘ(y’-Cy) + Cx y = -sinΘ(x’-Cx) + cosΘ(y’-Cy) + Cy 3) 보간법 최근접 화소 보간법(Nearest neighbor interpolation) : 가장 이웃한 인접한 화소 값 사용 양선형 보간법(Bilinear interpolation) : 인근 네 화소까지의 근접한 비례로 화소값 결정 BiCubic 보간법 : 16개의 화소를 이용하여 5번의 보간한 화소값을 사용 4) 영상내의 주파수 고주파 : 영상 내에서 밝기 변화가 많은 부분(영상 내에서 관심 많음 부분) 저주파 : 영상 내에서 밝기 변화가 적은 부분(영상 내에서 배경 부분) 5) Discrete Fourier Transform 임의의 파형은 단순한 정현파의 조합으로 표현할 수 있다\n특정 주파수의 정현파는 진폭과 위상으로 표현된다.\n2차원 forward Fourier transform\n$$H(k,l) = \\int_{-inf}^{+inf} \\int_{-inf}^{+inf} h(x,y) Θ^{-2j\\pi(kx+ly)} dxdy $$ $$h(x,y) = \\int_{-inf}^{+inf} \\int_{-inf}^{+inf} H(k,l) Θ^{+2j\\pi(kx+ly)} dkdl $$ $$ j = \\sqrt{-1}$$ $$ Θ^{\\pm_{jx}} = cos(x) \\pm_{ } jsin(x) $$ 2차원 forward discrete Fourier transform\n$$H(k,l) = 1/MN\\sum_{s=}^{M-1} \\sum_{l=0}^{N-1} h(x,y)Θ^{-2j\\pi(kx/M+ly/N)} $$ 6) Fast Fourier Transform(FFT) (1) FFT의 발생 배경 N개의 1차원 신호, Nlog2N (2) 일반 FT의 계산량(N-point) : N^2 (3) FFT의 주의점 영상의 크기는 2의 지수 승이 되어야 한다. 아니라면 제로패딩을 한다. 7) FFT를 이용한 주파수 영역에서의 필터링 LPF HPF ","wordCount":"4265","inLanguage":"ko","datePublished":"2018-01-24T16:42:42+09:00","dateModified":"2018-01-24T16:42:42+09:00","author":{"@type":"Person","name":"Jaejin Jang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jaejin0me.github.io/post/posts121/"},"publisher":{"@type":"Organization","name":"Jaejin's blog","logo":{"@type":"ImageObject","url":"https://jaejin0me.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jaejin0me.github.io accesskey=h title="Jaejin's blog (Alt + H)">Jaejin's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://jaejin0me.github.io/ title=Home><span>Home</span></a></li><li><a href=https://jaejin0me.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://jaejin0me.github.io/post/ title=Posts><span>Posts</span></a></li><li><a href=https://jaejin0me.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://jaejin0me.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://jaejin0me.github.io/about/ title="About Me"><span>About Me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>영상처리 기초 - 2</h1><div class=post-meta><span title='2018-01-24 16:42:42 +0900 +0900'>1월 24, 2018</span>&nbsp;·&nbsp;Jaejin Jang</div></header><div class=post-content><h1 id=4-화소값-기본-처리>4. 화소값 기본 처리<a hidden class=anchor aria-hidden=true href=#4-화소값-기본-처리>#</a></h1><h2 id=1-공간영역의-정의>1) 공간영역의 정의<a hidden class=anchor aria-hidden=true href=#1-공간영역의-정의>#</a></h2><h3 id=1-공간-영역>(1) 공간 영역<a hidden class=anchor aria-hidden=true href=#1-공간-영역>#</a></h3><ul><li>화소들의 집단 또는 공간적 배열</li></ul><h3 id=2-주파수-영역>(2) 주파수 영역<a hidden class=anchor aria-hidden=true href=#2-주파수-영역>#</a></h3><ul><li>저주파 또는 고주파</li></ul><h3 id=3-마스크-기반-처리>(3) 마스크 기반 처리<a hidden class=anchor aria-hidden=true href=#3-마스크-기반-처리>#</a></h3><ul><li>마스크의 다른 이름</li></ul><ul><li>템플릿, 윈도우, 필터, 커널 등</li></ul><ul><li>Convolution(회선)<ul><li>공간 영역 내에 있는 입력 화소값들과 마스크 내의 값을 곱하여 새로운 출력 화소값을 얻는 것이다.</li><li>공간 필터링이라 표현됨</li><li>$$Output(i,j) = \sum_{s=-k}^k \sum_{t=-k}^k m(s,t)p(i+s,j+t)$$</li><li>output(i,j) : Convolution(회선) 처리로 출력한 화소</li><li>p(i,j) : 입력 영상의 화소</li><li>m(i,j) : 입력 영상의 화소에 대응하는 가중치</li></ul></li></ul><table><thead><tr><th style=text-align:left>1</th><th style=text-align:left>2</th><th style=text-align:left>3</th></tr></thead><tbody><tr><td style=text-align:left>4</td><td style=text-align:left>5</td><td style=text-align:left>6</td></tr><tr><td style=text-align:left>7</td><td style=text-align:left>8</td><td style=text-align:left>9</td></tr></tbody></table><h3 id=4-convolution회선>(4) Convolution(회선)<a hidden class=anchor aria-hidden=true href=#4-convolution회선>#</a></h3><ul><li>Convolution<ul><li>$$ f*g(t) = \int_{-inf}^{+inf}f(τ)g(t-τ)dτ $$</li></ul></li></ul><h3 id=5-spatial-convolution공간-회선>(5) Spatial Convolution(공간 회선)<a hidden class=anchor aria-hidden=true href=#5-spatial-convolution공간-회선>#</a></h3><ul><li>Convolution과정 유무에 따라 선형/비선형으로 구분된다.</li><li>선형 공간 필터링(출력:y=m1x1+m2x2+ ~~~ mnsx)<ul><li>Embossing:양각효과를 만드는 것</li><li>Bluring : 영상을 부드럽게</li><li>Shparpening : 세세한 부분을 두드러지게 또는 강조</li><li>Edge Detection : 방향성 검출</li></ul></li><li>비선형 공간 필터링<ul><li>Convolution 과정 대신 블록 내 일정 값만 추출하여 출력하는 형식</li><li>미디언, 평균값, 최대/최소 필터링</li></ul></li></ul><h2 id=2-양각-효과>2) 양각 효과<a hidden class=anchor aria-hidden=true href=#2-양각-효과>#</a></h2><h3 id=1양각-효과>(1)양각 효과<a hidden class=anchor aria-hidden=true href=#1양각-효과>#</a></h3><ul><li><p>중앙값이 0이고, 마스크 내의 핪이 0인 마스크를 이용</p></li><li><p>중앙이 0이므로 경계가 튀어나와 보인다.</p></li><li><p>양각효과 알고리즘</p><ol><li>양각 효과 마스트에 대해 Convolution한다.</li><li>Convolution한 값에 해당 영상의 평균값을 더한다.</li></ol></li><li><p>평균값을 더하는 이유</p><ul><li>명암도 영상의 범위가 0~255인 관계로 그 범위 안에 들기 위해</li></ul></li><li><p>45도 마스크의 예</p></li></ul><table><thead><tr><th style=text-align:left>-1</th><th style=text-align:left>0</th><th style=text-align:left>0</th></tr></thead><tbody><tr><td style=text-align:left>0</td><td style=text-align:left>0</td><td style=text-align:left>0</td></tr><tr><td style=text-align:left>0</td><td style=text-align:left>0</td><td style=text-align:left>1</td></tr></tbody></table><h3 id=2컬러-영상에서-엠보싱-효과-구현-방법>(2)컬러 영상에서 엠보싱 효과 구현 방법<a hidden class=anchor aria-hidden=true href=#2컬러-영상에서-엠보싱-효과-구현-방법>#</a></h3><ul><li>RGB 컬러 공간 -> 각 채널로 분리 -> 각 채널에 양각효과 수행 -> 합성 -> 결과 영상 생성</li><li>RGB -> HSI 컬라 공간 변환후 밝기(I)채널에 양가 효과 -> RGB -> 합성 -> 결과 영상 생성<ul><li>I부부만 건드리기 때문에 HIS 컬러 공간의 요소인 H가 원영상의 색상 부분을 그대로 보존하므로 더 명확하게 구분할 수 있다.</li></ul></li></ul><h2 id=3-블러링>3) 블러링<a hidden class=anchor aria-hidden=true href=#3-블러링>#</a></h2><h3 id=1-저주파-통과-필터링>(1) 저주파 통과 필터링<a hidden class=anchor aria-hidden=true href=#1-저주파-통과-필터링>#</a></h3><ul><li>처리항 영상 성분 중 화소값의 변화율이 작은 저주자 성분을 유지하고 화소값의 변화율이 큰 고주파 성분을 없애는 결과 영상을 얻어내는 것</li></ul><h3 id=2-블러링>(2) 블러링<a hidden class=anchor aria-hidden=true href=#2-블러링>#</a></h3><ul><li>저주자 통과 필터링을 거친 영상은 윤곽선 부분을 이루는 고주파 성분이 제거되어 전체 영상이 부드러워지게 되는 현상</li><li>예) 영상에서 대상만 또려하고 나머지 부분은 흐리게 나오는 경우</li></ul><h3 id=3-블러링-마스크-특징>(3) 블러링 마스크 특징<a hidden class=anchor aria-hidden=true href=#3-블러링-마스크-특징>#</a></h3><ul><li>마스크 내의 계수의 합 = 1</li><li>M<em>M의 크기를 가진 마스크에서 마스크 내의 계수 : 1/(M</em>M)</li></ul><h3 id=4-마스크-효과>(4) 마스크 효과<a hidden class=anchor aria-hidden=true href=#4-마스크-효과>#</a></h3><ul><li>마스크 내 계수의 값은 똑같이 때문에 주변 화소들과 평균한 결과</li><li>잡음(돌출되어 나온 값)을 제거하는 기능</li><li>단점 : 영상이 부드러워지고 희미해지기 때문에 영상 대비가 약화 된다</li><li>마스크의 크기가 커질 수록 주변 화소의 기여도가 높아져 큰 효과를 나타내지만, 계산할 양이 많아져 수행시간이 증가 된다.</li><li>가우시안 잡음은 잡을 수 있지만 임펄스 잡음에 취약하다. 임펄스 잡음은 미디언 필터링을 사용한다.</li></ul><table><thead><tr><th style=text-align:left>1/9</th><th style=text-align:left>1/9</th><th style=text-align:left>1/9</th></tr></thead><tbody><tr><td style=text-align:left>1/9</td><td style=text-align:left>1/9</td><td style=text-align:left>1/9</td></tr><tr><td style=text-align:left>1/9</td><td style=text-align:left>1/9</td><td style=text-align:left>1/9</td></tr></tbody></table><h2 id=4-샤프닝>4) 샤프닝<a hidden class=anchor aria-hidden=true href=#4-샤프닝>#</a></h2><h3 id=1-샤프닝-마스트>(1) 샤프닝 마스트<a hidden class=anchor aria-hidden=true href=#1-샤프닝-마스트>#</a></h3><ul><li>샤프닝 마스크<ul><li>모든 계수의 합 = 1</li><li>중심 계수는 양의 값</li><li>주변 화소는 음의 값을 가지고 있기 때문에 Convolution시 주변에 있는 화소값을 약화 시킨다. 따라서 경계선이 두드러져 보인다.</li><li>고주파 필터링의 한 종류이다.</li><li>잡음을 증가시키기 때문에 남용하면 안된다.</li><li>잡음에 민감한 영상인 경우 전처리 과정을 거쳐야 한다.</li></ul></li><li>명암대비 개선 시킬 수 있는 특별 마스크</li></ul><table><thead><tr><th style=text-align:left>1</th><th style=text-align:left>1</th><th style=text-align:left>1</th></tr></thead><tbody><tr><td style=text-align:left>1</td><td style=text-align:left>7</td><td style=text-align:left>1</td></tr><tr><td style=text-align:left>1</td><td style=text-align:left>1</td><td style=text-align:left>1</td></tr></tbody></table><h3 id=2-고주파-통과-필터링>(2) 고주파 통과 필터링<a hidden class=anchor aria-hidden=true href=#2-고주파-통과-필터링>#</a></h3><table><thead><tr><th style=text-align:left>-1/9</th><th style=text-align:left>-1/9</th><th style=text-align:left>-1/9</th></tr></thead><tbody><tr><td style=text-align:left>-1/9</td><td style=text-align:left>8/9</td><td style=text-align:left>-1/9</td></tr><tr><td style=text-align:left>-1/9</td><td style=text-align:left>-1/9</td><td style=text-align:left>-1/9</td></tr></tbody></table><h3 id=3-고주파-지원-통과-필터링>(3) 고주파 지원 통과 필터링<a hidden class=anchor aria-hidden=true href=#3-고주파-지원-통과-필터링>#</a></h3><table><thead><tr><th style=text-align:left>-a/9</th><th style=text-align:left>-a/9</th><th style=text-align:left>-a/9</th></tr></thead><tbody><tr><td style=text-align:left>-a/9</td><td style=text-align:left>w/9</td><td style=text-align:left>-a/9</td></tr><tr><td style=text-align:left>-a/9</td><td style=text-align:left>-a/9</td><td style=text-align:left>-a/9</td></tr></tbody></table><ul><li>W=9a-1, 만약 a가 1이면 고주파 통과 필터링을 위한 마스크와 일치한다</li><li>a가 커질수록 더 또렷해진다.</li><li>고주파지원 필터링의 절차<ol><li>원영상에 밝기값을 곱하면 더 밝아진 영상 A를 얻는다.</li><li>원 영상에 젖파 필터링한 영상 B를 얻는다.</li><li>A-B를 수행하여 결과 영상을 얻는다</li></ol><ul><li>a*(원 영상) - (저주파 통과 필터링된 결과)</li></ul></li><li>언샤프닝기법<ul><li>원 영상에서 저주파 필터링을 거쳐 영상을 뺀 것으로 샤프닝과 마찬가지로 경계선을 강조한 영상을 얻어도 강조의 폭이 좁아 잘 두드러지지 않는다.</li><li>(원 영상)-(저주파 토과 필터링된 결과)</li></ul></li></ul><h2 id=5-잡음제거>5) 잡음제거<a hidden class=anchor aria-hidden=true href=#5-잡음제거>#</a></h2><h3 id=1-가우시간-잡음>(1) 가우시간 잡음<a hidden class=anchor aria-hidden=true href=#1-가우시간-잡음>#</a></h3><ul><li>가우시안 분포를 따르는 잡음으로 블러링으로 제거 가능하다</li></ul><h3 id=2-임펄스-잡음>(2) 임펄스 잡음<a hidden class=anchor aria-hidden=true href=#2-임펄스-잡음>#</a></h3><ul><li>임의의 난수 잡음으로 미디언 필터링으로 제거 가능 하다.</li></ul><h3 id=3-미디언-필터링>(3) 미디언 필터링<a hidden class=anchor aria-hidden=true href=#3-미디언-필터링>#</a></h3><table><thead><tr><th style=text-align:left>4</th><th style=text-align:left>2</th><th style=text-align:left>3</th></tr></thead><tbody><tr><td style=text-align:left>2</td><td style=text-align:left>3</td><td style=text-align:left>6</td></tr><tr><td style=text-align:left>7</td><td style=text-align:left>8</td><td style=text-align:left>9</td></tr></tbody></table><ul><li>특징<ul><li>Uniform noise 제거가 잘 안된다</li><li>큰 마스크를 사용할 경우 수행 시간이 증가한다</li><li>마스크의 형태가 필터링에 크게 영향을 미친다</li><li>HSI공간, 명암도 영상에 효과가 좋다. RGB의 경우 3번을 거쳐야 함으로 속도가 떨어진다</li><li>salt-papper 잡음 제거 효율이 좋다.</li></ul></li></ul><h3 id=4-평균간-필터링>(4) 평균간 필터링<a hidden class=anchor aria-hidden=true href=#4-평균간-필터링>#</a></h3><table><thead><tr><th style=text-align:left>1</th><th style=text-align:left>2</th><th style=text-align:left>3</th></tr></thead><tbody><tr><td style=text-align:left>4</td><td style=text-align:left>5</td><td style=text-align:left>6</td></tr><tr><td style=text-align:left>7</td><td style=text-align:left>8</td><td style=text-align:left>9</td></tr></tbody></table><ul><li>임펄스 잡음 제거가 힘들다</li><li>경계를 흐리게 한다</li><li>융통성이 적다</li></ul><h3 id=5-가우시안-스무딩-필터링>(5) 가우시안 스무딩 필터링<a hidden class=anchor aria-hidden=true href=#5-가우시안-스무딩-필터링>#</a></h3><ul><li>정규확률 분포에 의한 잡음 제거를 목적을 한다.</li><li>1차원</li><li>$$ G(x) = \frac{1}{a\sqrt{2\pi}}exp(\frac{-x_2}{2a_2}) $$</li><li>2차원</li><li>$$ G(x,y) = \frac{1}{2\pi a^2}exp(\frac{-(x_2+y_2)}{2a_2}) $$</li><li>특징<ul><li>2차원 가우시안 분포함수는 circular symmetry(순환 대칭)</li><li>가우시안 분포함수는 단일돌출 부분이 있다</li><li>푸리에변화을 해도 단일돌출 부분이 있다</li><li>스무딩의 정도인 가우시안 분포 마스크폭은 a로 결정 된다</li></ul></li></ul><table><thead><tr><th style=text-align:left>1/32</th><th style=text-align:left>1/32</th><th style=text-align:left>1/16</th><th style=text-align:left>1/32</th><th style=text-align:left>1/32</th></tr></thead><tbody><tr><td style=text-align:left>1/32</td><td style=text-align:left>1/16</td><td style=text-align:left>1/8</td><td style=text-align:left>1/16</td><td style=text-align:left>1/32</td></tr><tr><td style=text-align:left>1/32</td><td style=text-align:left>1/8</td><td style=text-align:left>1/4</td><td style=text-align:left>1/8</td><td style=text-align:left>1/16</td></tr><tr><td style=text-align:left>1/32</td><td style=text-align:left>1/16</td><td style=text-align:left>1/8</td><td style=text-align:left>1/16</td><td style=text-align:left>1/32</td></tr><tr><td style=text-align:left>1/32</td><td style=text-align:left>1/32</td><td style=text-align:left>1/16</td><td style=text-align:left>1/32</td><td style=text-align:left>1/32</td></tr></tbody></table><ul><li>가우시안 스무딩 마스크<ul><li>가우시안 분포함수에 의한 값을 마스크로 표현한 것으로 가우시간 분포 생성 시간을 단축 한다.</li></ul></li></ul><h2 id=6-에지-추출>6) 에지 추출<a hidden class=anchor aria-hidden=true href=#6-에지-추출>#</a></h2><h3 id=1-에지-개념>(1) 에지 개념<a hidden class=anchor aria-hidden=true href=#1-에지-개념>#</a></h3><ul><li>경계선, 윤곽선, 밝기가 변하는 지점</li><li>영산 안에 있는 객체의 경계</li><li>모양(Shape), 방향성(direction)을 탐지</li></ul><h3 id=2-1차-미분>(2) 1차 미분<a hidden class=anchor aria-hidden=true href=#2-1차-미분>#</a></h3><ul><li>밝기의 변화율을 통해 검출하는 방법</li><li>$$\frac{\partial f(x,y)}{\partial x} = \Delta x = \frac{f(x+dx,y)-f(x,y)}{dx}$$</li><li>$$\frac{\partial f(x,y)}{\partial y} = \Delta y = \frac{f(x,y+dy)-f(x,y)}{dy}$$</li><li>두 픽셀 사이를 1 이라고 가정 하면, dx=dy=1<ul><li>$$ \Delta x = f(x+1,y) - f(x,y) $$</li><li>$$ \Delta y = f(x,y+1) - f(x,y) $$</li></ul></li><li>$$ Gradient magnitude measure, Mag = \sqrt{\Delta x^2 + \Delta y^2} \approx |\Delta x| + |\Delta y| $$</li><li>$$ Gradient durectuib measure, $$ Θ = \tan^{-1}(\Delta y/\Delta x)</li><li>수평방향미분(x방향) : Gx(x,y) = f(x+1,y)-f(x-1,y)</li><li>수직방향미분(y방향) : Gy(x,y) = f(x,y+1)-f(x,y-1)</li><li>1차미분에 의한 에지추출 : |Gx(x,y)| + |Gy(x,y)|</li><li>절대값, 제곱근 중 편의성 위해 절대값이 주로 이용됨</li></ul><table><thead><tr><th style=text-align:left>(x-1,y-1)</th><th style=text-align:left>(x,y-1)</th><th style=text-align:left>(x+1,y-1)</th></tr></thead><tbody><tr><td style=text-align:left>(x-1,y)</td><td style=text-align:left>(x,y)</td><td style=text-align:left>(x+1,y)</td></tr><tr><td style=text-align:left>(x-1,y+1)</td><td style=text-align:left>(x,y+1)</td><td style=text-align:left>(x+1,y+1)</td></tr></tbody></table><h3 id=3-sobel-마스크>(3) Sobel 마스크<a hidden class=anchor aria-hidden=true href=#3-sobel-마스크>#</a></h3><ul><li>모든 방향의 에주 추출</li><li>잡음에 강함</li><li>대각선방향 민감 반응</li><li>수평 마스크</li></ul><table><thead><tr><th style=text-align:left>-1</th><th style=text-align:left>0</th><th style=text-align:left>1</th></tr></thead><tbody><tr><td style=text-align:left>-2</td><td style=text-align:left>0</td><td style=text-align:left>2</td></tr><tr><td style=text-align:left>-1</td><td style=text-align:left>0</td><td style=text-align:left>1</td></tr></tbody></table><ul><li>수직 마스크</li></ul><table><thead><tr><th style=text-align:left>1</th><th style=text-align:left>2</th><th style=text-align:left>1</th></tr></thead><tbody><tr><td style=text-align:left>0</td><td style=text-align:left>0</td><td style=text-align:left>2</td></tr><tr><td style=text-align:left>-1</td><td style=text-align:left>-2</td><td style=text-align:left>-1</td></tr></tbody></table><h3 id=4-prewitt-마스크>(4) Prewitt 마스크<a hidden class=anchor aria-hidden=true href=#4-prewitt-마스크>#</a></h3><ul><li>에지가 덜 부각</li><li>수직,수평에 민감 반응</li><li>수평 마스크</li></ul><table><thead><tr><th style=text-align:left>-1</th><th style=text-align:left>0</th><th style=text-align:left>1</th></tr></thead><tbody><tr><td style=text-align:left>-1</td><td style=text-align:left>0</td><td style=text-align:left>1</td></tr><tr><td style=text-align:left>-1</td><td style=text-align:left>0</td><td style=text-align:left>1</td></tr></tbody></table><ul><li>수직 마스크</li></ul><table><thead><tr><th style=text-align:left>1</th><th style=text-align:left>1</th><th style=text-align:left>1</th></tr></thead><tbody><tr><td style=text-align:left>0</td><td style=text-align:left>0</td><td style=text-align:left>2</td></tr><tr><td style=text-align:left>-1</td><td style=text-align:left>-1</td><td style=text-align:left>-1</td></tr></tbody></table><h3 id=5-robert-마스크>(5) Robert 마스크<a hidden class=anchor aria-hidden=true href=#5-robert-마스크>#</a></h3><ul><li>빠른 속도</li><li>주변과 관계 없이 경계가 확실한 에지추출</li><li>잡음에 민감</li><li>에지가 가늘어 지지만 확실한 추출 가능</li><li>수평 마스크</li></ul><table><thead><tr><th style=text-align:left>0</th><th style=text-align:left>0</th><th style=text-align:left>-1</th></tr></thead><tbody><tr><td style=text-align:left>0</td><td style=text-align:left>1</td><td style=text-align:left>0</td></tr><tr><td style=text-align:left>0</td><td style=text-align:left>0</td><td style=text-align:left>0</td></tr></tbody></table><ul><li>수직 마스크</li></ul><table><thead><tr><th style=text-align:left>-1</th><th style=text-align:left>0</th><th style=text-align:left>0</th></tr></thead><tbody><tr><td style=text-align:left>0</td><td style=text-align:left>1</td><td style=text-align:left>0</td></tr><tr><td style=text-align:left>0</td><td style=text-align:left>0</td><td style=text-align:left>0</td></tr></tbody></table><h3 id=6-라플라시안>(6) 라플라시안<a hidden class=anchor aria-hidden=true href=#6-라플라시안>#</a></h3><ul><li>2차미분<ul><li>너무 많은 에지 추출 방지</li><li>수평,수직,대각선 에지에 민감반응 감소</li><li>점진적인 밝기값 변화 부분에 반응 둔화</li><li>에지 2차 미분에서 값이 0인 부분(1차 미분의 볼록한 부분의 꼭지점)</li></ul></li><li>4방향 라플라시안 마스크1</li></ul><table><thead><tr><th style=text-align:left>0</th><th style=text-align:left>-1</th><th style=text-align:left>0</th></tr></thead><tbody><tr><td style=text-align:left>-1</td><td style=text-align:left>4</td><td style=text-align:left>-1</td></tr><tr><td style=text-align:left>0</td><td style=text-align:left>-1</td><td style=text-align:left>0</td></tr></tbody></table><ul><li>4방향 라플라시안 마스크2</li></ul><table><thead><tr><th style=text-align:left>0</th><th style=text-align:left>1</th><th style=text-align:left>0</th></tr></thead><tbody><tr><td style=text-align:left>1</td><td style=text-align:left>-4</td><td style=text-align:left>1</td></tr><tr><td style=text-align:left>0</td><td style=text-align:left>1</td><td style=text-align:left>0</td></tr></tbody></table><ul><li>8방향 라플라시안 마스크1</li></ul><table><thead><tr><th style=text-align:left>-1</th><th style=text-align:left>-1</th><th style=text-align:left>-1</th></tr></thead><tbody><tr><td style=text-align:left>-1</td><td style=text-align:left>8</td><td style=text-align:left>-1</td></tr><tr><td style=text-align:left>-1</td><td style=text-align:left>-1</td><td style=text-align:left>-1</td></tr></tbody></table><ul><li>8방향 라플라시안 마스크2</li></ul><table><thead><tr><th style=text-align:left>1</th><th style=text-align:left>-2</th><th style=text-align:left>1</th></tr></thead><tbody><tr><td style=text-align:left>-2</td><td style=text-align:left>4</td><td style=text-align:left>-2</td></tr><tr><td style=text-align:left>1</td><td style=text-align:left>-2</td><td style=text-align:left>1</td></tr></tbody></table><ul><li><p>$$ \Delta^2 f(x,y) = \frac{\partial^2 f(x,y)}{\partial x^2} + \frac{\partial^2 f(x,y)}{\partial y^2} $$</p></li><li><p>$$ \frac{\partial^2 f(x,y)}{\partial x^2} = f(x,y) - f(x+1,y) + f(x,y) - f(x-1,y) $$</p></li><li><p>$$ \frac{\partial^2 f(x,y)}{\partial y^2} = f(x,y) - f(x,y+1) + f(x,y) - f(x,y-1) $$</p></li><li><p>$$ \Delta^2 f(x,y) = f(x,y+1) + f(x-1,y) + f(x+1,y) + f(x,y-1) -4f(x,y) $$</p></li><li><p>잡음에 약함(주변 밝기화의 차이값을 이용하므로)</p></li><li><p>영상내 가는 선이나 고립점에 강하게 반응</p></li><li><p>(a<em>b)<em>c = a</em>(b</em>c)</p></li><li><p>Convolution operator is commutative</p><ul><li>$$\frac{d}{dx} \left[ g*I \right] = \left[ \frac{dg}{dx} \right] *I $$</li><li>$$\frac{d^2 g}{dx^2} \approx \left[ \frac{x^2}{\alpha^2} - 1 \right] e^{\frac{-x^2}{2\alpha^2}} $$</li><li>$$\frac{d^2}{dx^2} \left[g*I \right] = \left[ \frac{d^2g}{dx^2} \right] * I $$</li><li>$$ g(x) \approx e^{\frac{-x^2}{2\alpha^2}} $$</li><li>$$ g(x)&rsquo; \approx \frac{-x}{\alpha^2} e^{\frac{-x^2}{2\alpha^2}} $$</li><li>$$ g(x,y) \approx e^{\frac{-x^2 + y^2}{2\alpha^2}} $$</li><li>$$ \Delta g(x,y) -> vector $$</li><li>$$ \Delta^2 g -> scalar $$</li></ul></li></ul><h3 id=7-loglaplacian-of-gaussian>(7) LoG(Laplacian of Gaussian)<a hidden class=anchor aria-hidden=true href=#7-loglaplacian-of-gaussian>#</a></h3><ul><li>실행방법<ul><li>가우시안 스무딩 필터링 - > 라플라시안 $$ \delta^2 G*f $$</li><li>LoG 공식 직접 적용 - > 마스크 생성</li><li>$$ LoG(x,y) = \left[ 1 - \frac{x^2 + y^2}{2\alpha^2} \right] e^{\frac{-(x^2+y^2)}{2\alpha^2}} = \left[ 1 - \frac{xr^2}{2\alpha^2} \right] e^{\frac{-r^2}{2\alpha^2}} $$</li><li>알파에 의해 마스크 크기가 달라짐</li><li>알파가 크면 스무딩 효과 상승, 뚜렷한 에지 추출, 작으면 스무딩효과 저하, 미세한 에지 추출</li></ul></li></ul><h3 id=8-dogdifference-of-gaussian>(8) DoG(Difference of Gaussian)<a hidden class=anchor aria-hidden=true href=#8-dogdifference-of-gaussian>#</a></h3><ul><li>LoG가 많은 시간이 걸리는 단점을 보완<ul><li>알파의 값을 조절하여 결과를 다르게 얻음</li><li>알파의 크기에 따른 가우시안 ㅡ무딩 필터링의 차를 의미</li><li>실행방법 : 공식에 이한 것</li><li>$$ DoG(x,y) = G1 -G2 = \frac{e^{\frac{-(x^2+y^2)}{2\alpha_1^2}}}{2\pi\alpha_1^2} - \frac{e^{\frac{-(x^2+y^2)}{2\alpha_2^2}}}{2\pi\alpha_2^2} $$</li><li>가우시간 마스크의 중복 적용</li><li>Dog(x,y)<em>f = (G1-G2)<em>f = G1</em>f - G2</em>f</li></ul></li></ul><h3 id=9-canny-에지-추출>(9) Canny 에지 추출<a hidden class=anchor aria-hidden=true href=#9-canny-에지-추출>#</a></h3><ul><li>잡음에 민감하지 않도록 강한 에지 추출</li><li>에지추출기의 세 가지 기준(John Canny)<ul><li>탐지성 : 모든 에지 탐지</li><li>국부성 : 실제 에지와 탐지된 에지의 차이 최소화</li><li>응답성 : 각 에지에 대한 단일한 대답</li></ul></li></ul><h2 id=7-모폴로지>7) 모폴로지<a hidden class=anchor aria-hidden=true href=#7-모폴로지>#</a></h2><ul><li>morphology : 영상 내의 형태들을 분석하고 처리하는 형태학</li><li>적용 예:<ul><li>OCR 전처리, 지문 영상에서 잡음 제거 및 융선 명확히</li><li>컬러 지도 내에 있는 객체 추출</li></ul></li><li>morphological processing<ul><li>영상의 기본적인 특징을 유지하면서 형태에 변화를 주는 것을 의미한다.</li></ul></li></ul><h3 id=1-침식-연산>(1) 침식 연산<a hidden class=anchor aria-hidden=true href=#1-침식-연산>#</a></h3><ul><li>침식 연산(Erosion Operator)<ul><li>배경을 확장, 객체의 크기를 축소</li><li>객체 안이나 객체와 배경 사이에 있는 salt-papper 또는 임펄스 잡음 제거에 쓰인다</li><li>영상의 돌출부는 감소 시키고 전체 영상에서 아주 작은 물체를 제거하는데 쓰인다.</li></ul></li></ul><h3 id=2-팽창-연산>(2) 팽창 연산<a hidden class=anchor aria-hidden=true href=#2-팽창-연산>#</a></h3><ul><li>침식 연산(Erosion Operator)<ul><li>배경을 축소, 객체를 확장</li><li>객체 안의 빈 공간을 메우는 역할</li><li>물체 내부에 발생한 구멍과 같은 공간을 채우거나 짧게 끊어진 영역을 연결하는데 사용됨</li></ul></li></ul><h3 id=3-열림-연산>(3) 열림 연산<a hidden class=anchor aria-hidden=true href=#3-열림-연산>#</a></h3><ul><li>열림 연산<ul><li>침식 연산과 팽창 연산을 순서대로 진행</li><li>물체 밖의 점이 사라짐</li><li>좁은 연결 점을 끊으며, 돌출 부분을 제거하는 성질을 가짐</li></ul></li></ul><h3 id=4-닫힘-연산>(4) 닫힘 연산<a hidden class=anchor aria-hidden=true href=#4-닫힘-연산>#</a></h3><ul><li>닫힘 연산<ul><li>팽창 연산과 침식 연산을 순서대로 진행</li><li>물체 내부의 점이 사라짐</li><li>좁은 연결 점을 융합하고 갈라진 틈을 좁히며 작은 홀을 제거한다</li></ul></li></ul><h2 id=8-모자이크-효과>8) 모자이크 효과<a hidden class=anchor aria-hidden=true href=#8-모자이크-효과>#</a></h2><h3 id=1-모자이크-효과>(1) 모자이크 효과<a hidden class=anchor aria-hidden=true href=#1-모자이크-효과>#</a></h3><ul><li>블록 형태로 영상을 변형하는 기법</li></ul><h3 id=2-모자이크-효과-알고리즘의-원리>(2) 모자이크 효과 알고리즘의 원리<a hidden class=anchor aria-hidden=true href=#2-모자이크-효과-알고리즘의-원리>#</a></h3><ul><li>영상의 전체 내용을 완전히 제거하는 것이 아니라, 일부 영역만 남기고 제거하는 것</li><li>영역 내 어떤 값을 선택 또는 생성하여 출력 영상 내 해당 영여글 완전히 채우는 것</li></ul><h1 id=5-형태변환>5. 형태변환<a hidden class=anchor aria-hidden=true href=#5-형태변환>#</a></h1><h2 id=1-사상>1) 사상<a hidden class=anchor aria-hidden=true href=#1-사상>#</a></h2><ul><li>임의의 기하학적 변화에 의하여 화소들의 배치를 변경하는 것</li><li>기하학적 처리 : 확대/축소(Scaling), 회전(Rotation), 이동(Translation), 감축(Reduction)</li><li>기하학 기반 처리에서 전방향 사상(Forward mapping)은 오버랩 문제와 홀 문제가 발생할 수 있다. 이 문제를 해결하기 위한 방법이 역방향 사상이다.</li></ul><h2 id=2-회전rotation>2) 회전(Rotation)<a hidden class=anchor aria-hidden=true href=#2-회전rotation>#</a></h2><ul><li>원 영상을 원하는 각도만큼 변화하는 것을 가리킨다.</li><li>원점을 중심으로 이동</li><li>전방향 사상의 경우</li><li>x&rsquo; = xcosΘ - ysinΘ</li><li>y&rsquo; = xsinΘ + ycosΘ</li><li>역방향 사상의 경우</li><li>x = cosΘ(x&rsquo;-Cx) + sinΘ(y&rsquo;-Cy) + Cx</li><li>y = -sinΘ(x&rsquo;-Cx) + cosΘ(y&rsquo;-Cy) + Cy</li></ul><h2 id=3-보간법>3) 보간법<a hidden class=anchor aria-hidden=true href=#3-보간법>#</a></h2><ul><li>최근접 화소 보간법(Nearest neighbor interpolation) : 가장 이웃한 인접한 화소 값 사용</li><li>양선형 보간법(Bilinear interpolation) : 인근 네 화소까지의 근접한 비례로 화소값 결정</li><li>BiCubic 보간법 : 16개의 화소를 이용하여 5번의 보간한 화소값을 사용</li></ul><h2 id=4-영상내의-주파수>4) 영상내의 주파수<a hidden class=anchor aria-hidden=true href=#4-영상내의-주파수>#</a></h2><ul><li>고주파 : 영상 내에서 밝기 변화가 많은 부분(영상 내에서 관심 많음 부분)</li><li>저주파 : 영상 내에서 밝기 변화가 적은 부분(영상 내에서 배경 부분)</li></ul><h2 id=5-discrete-fourier-transform>5) Discrete Fourier Transform<a hidden class=anchor aria-hidden=true href=#5-discrete-fourier-transform>#</a></h2><ul><li><p>임의의 파형은 단순한 정현파의 조합으로 표현할 수 있다</p></li><li><p>특정 주파수의 정현파는 진폭과 위상으로 표현된다.</p></li><li><p>2차원 forward Fourier transform</p><ul><li>$$H(k,l) = \int_{-inf}^{+inf} \int_{-inf}^{+inf} h(x,y) Θ^{-2j\pi(kx+ly)} dxdy $$</li><li>$$h(x,y) = \int_{-inf}^{+inf} \int_{-inf}^{+inf} H(k,l) Θ^{+2j\pi(kx+ly)} dkdl $$</li><li>$$ j = \sqrt{-1}$$</li><li>$$ Θ^{\pm_{jx}} = cos(x) \pm_{ } jsin(x) $$</li></ul></li><li><p>2차원 forward discrete Fourier transform</p><ul><li>$$H(k,l) = 1/MN\sum_{s=}^{M-1} \sum_{l=0}^{N-1} h(x,y)Θ^{-2j\pi(kx/M+ly/N)} $$</li></ul></li></ul><h2 id=6-fast-fourier-transformfft>6) Fast Fourier Transform(FFT)<a hidden class=anchor aria-hidden=true href=#6-fast-fourier-transformfft>#</a></h2><h3 id=1-fft의-발생-배경>(1) FFT의 발생 배경<a hidden class=anchor aria-hidden=true href=#1-fft의-발생-배경>#</a></h3><ul><li>N개의 1차원 신호, Nlog2N</li></ul><h3 id=2-일반-ft의-계산량n-point--n2>(2) 일반 FT의 계산량(N-point) : N^2<a hidden class=anchor aria-hidden=true href=#2-일반-ft의-계산량n-point--n2>#</a></h3><h3 id=3-fft의-주의점>(3) FFT의 주의점<a hidden class=anchor aria-hidden=true href=#3-fft의-주의점>#</a></h3><ul><li>영상의 크기는 2의 지수 승이 되어야 한다. 아니라면 제로패딩을 한다.</li></ul><h2 id=7-fft를-이용한-주파수-영역에서의-필터링>7) FFT를 이용한 주파수 영역에서의 필터링<a hidden class=anchor aria-hidden=true href=#7-fft를-이용한-주파수-영역에서의-필터링>#</a></h2><ul><li>LPF</li><li>HPF</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://jaejin0me.github.io/tags/%EC%98%81%EC%83%81%EC%B2%98%EB%A6%AC/>영상처리</a></li></ul></footer><script src=https://utteranc.es/client.js repo=jaejin0me/blog_comment issue-term=title label=comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>Jaejin Jang</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>